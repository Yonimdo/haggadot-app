!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=e.document,o=Object.getPrototypeOf,r=n.slice,s=n.concat,a=n.push,l=n.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,f=d.call(Object),p={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},m={type:!0,src:!0,noModule:!0};function y(e,t,n){var o,r=(t=t||i).createElement("script");if(r.text=e,n)for(o in m)n[o]&&(r[o]=n[o]);t.head.appendChild(r).parentNode.removeChild(r)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var b=function(e,t){return new b.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,r=n&&Array.isArray(n)?n:[]):r=n&&b.isPlainObject(n)?n:{},s[t]=b.extend(u,r,i)):void 0!==i&&(s[t]=i));return s},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=o(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||d.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var n,i=0;if(x(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?b.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(x(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return s.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var P=function(e){var t,n,i,o,r,s,a,l,u,c,h,d,f,p,g,v,m,y,_,b="sizzle"+1*new Date,w=e.document,x=0,P=0,C=se(),E=se(),T=se(),j=function(e,t){return e===t&&(h=!0),0},S={}.hasOwnProperty,k=[],I=k.pop,D=k.push,O=k.push,A=k.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+M+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+R+"*\\]",q=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),V=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),z=new RegExp("^"+R+"*,"+R+"*"),B=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),W=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),U=new RegExp(q),Z=new RegExp("^"+M+"$"),G={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},oe=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{O.apply(k=A.call(w.childNodes),w.childNodes)}catch(e){O={apply:k.length?function(e,t){D.apply(e,A.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,o){var r,a,u,c,h,p,m,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!o&&((t?t.ownerDocument||t:w)!==f&&d(t),t=t||f,g)){if(11!==x&&(h=X.exec(e)))if(r=h[1]){if(9===x){if(!(u=t.getElementById(r)))return i;if(u.id===r)return i.push(u),i}else if(y&&(u=y.getElementById(r))&&_(t,u)&&u.id===r)return i.push(u),i}else{if(h[2])return O.apply(i,t.getElementsByTagName(e)),i;if((r=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(r)),i}if(n.qsa&&!T[e+" "]&&(!v||!v.test(e))){if(1!==x)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),a=(p=s(e)).length;a--;)p[a]="#"+c+" "+me(p[a]);m=p.join(","),y=Q.test(e)&&ge(t.parentNode)||t}if(m)try{return O.apply(i,y.querySelectorAll(m)),i}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,i,o)}function se(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[b]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(t in n=re.support={},r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=re.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:w;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!r(f),w!==f&&(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(f.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=K.test(f.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+R+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",q)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=K.test(p.compareDocumentPosition),_=t||K.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&_(w,e)?-1:t===f||t.ownerDocument===w&&_(w,t)?1:c?L(c,e)-L(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e===f?-1:t===f?1:o?-1:r?1:c?L(c,e)-L(c,t):0;if(o===r)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ce(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},f):f},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(W,"='$1']"),n.matchesSelector&&g&&!T[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,f,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),_(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var o=i.attrHandle[t.toLowerCase()],r=o&&S.call(i.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==r?r:n.attributes||!g?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.escape=function(e){return(e+"").replace(te,ne)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],o=0,r=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(j),h){for(;t=e[r++];)t===e[r]&&(o=i.push(r));for(;o--;)e.splice(i[o],1)}return c=null,e},o=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(i=re.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var o=re.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,g=r!==s?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(v){if(r){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(_=(f=(u=(c=(h=(d=v)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===x&&u[1])&&u[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(_=f=0)||p.pop();)if(1===d.nodeType&&++_&&d===t){c[e]=[x,f,_];break}}else if(y&&(_=f=(u=(c=(h=(d=t)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===x&&u[1]),!1===_)for(;(d=++f&&d&&d[g]||(_=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++_||(y&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[x,_]),d!==t)););return(_-=o)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)e[i=L(e,r[s])]=!(n[i]=r[s])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(V,"$1"));return i[b]?ae(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return re(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ae(function(e){return Z.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function ve(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=P++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var u,c,h,d=[x,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===x&&u[1]===a)return d[2]=u[2];if(c[r]=d,d[2]=e(t,n,l))return!0}return!1}}function _e(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function we(e,t,n,i,o,r){return i&&!i[b]&&(i=we(i)),o&&!o[b]&&(o=we(o,r)),ae(function(r,s,a,l){var u,c,h,d=[],f=[],p=s.length,g=r||function(e,t,n){for(var i=0,o=t.length;i<o;i++)re(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:be(g,d,e,a,l),m=n?o||(r?e:p||i)?[]:s:v;if(n&&n(v,m,a,l),i)for(u=be(m,f),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(m[f[c]]=!(v[f[c]]=h));if(r){if(o||e){if(o){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(v[c]=h);o(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=o?L(r,h):d[c])>-1&&(r[u]=!(s[u]=h))}}else m=be(m===s?m.splice(p,m.length):m),o?o(null,s,m,l):O.apply(s,m)})}function xe(e){for(var t,n,o,r=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=ye(function(e){return e===t},a,!0),h=ye(function(e){return L(t,e)>-1},a,!0),d=[function(e,n,i){var o=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,o}];l<r;l++)if(n=i.relative[e[l].type])d=[ye(_e(d),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(o=++l;o<r&&!i.relative[e[o].type];o++);return we(l>1&&_e(d),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&xe(e.slice(l,o)),o<r&&xe(e=e.slice(o)),o<r&&me(e))}d.push(n)}return _e(d)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,s=re.tokenize=function(e,t){var n,o,r,s,a,l,u,c=E[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(o=z.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=B.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(V," ")}),a=a.slice(n.length)),i.filter)!(o=G[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):E(e,l).slice(0)},a=re.compile=function(e,t){var n,o=[],r=[],a=T[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=xe(t[n]))[b]?o.push(a):r.push(a);(a=T(e,function(e,t){var n=t.length>0,o=e.length>0,r=function(r,s,a,l,c){var h,p,v,m=0,y="0",_=r&&[],b=[],w=u,P=r||o&&i.find.TAG("*",c),C=x+=null==w?1:Math.random()||.1,E=P.length;for(c&&(u=s===f||s||c);y!==E&&null!=(h=P[y]);y++){if(o&&h){for(p=0,s||h.ownerDocument===f||(d(h),a=!g);v=e[p++];)if(v(h,s||f,a)){l.push(h);break}c&&(x=C)}n&&((h=!v&&h)&&m--,r&&_.push(h))}if(m+=y,n&&y!==m){for(p=0;v=t[p++];)v(_,b,s,a);if(r){if(m>0)for(;y--;)_[y]||b[y]||(b[y]=I.call(l));b=be(b)}O.apply(l,b),c&&!r&&b.length>0&&m+t.length>1&&re.uniqueSort(l)}return c&&(x=C,u=w),_};return n?ae(r):r}(r,o))).selector=e}return a},l=re.select=function(e,t,n,o){var r,l,u,c,h,d="function"==typeof e&&e,f=!o&&s(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=G.needsContext.test(e)?0:l.length;r--&&!i.relative[c=(u=l[r]).type];)if((h=i.find[c])&&(o=h(u.matches[0].replace(J,ee),Q.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&me(l)))return O.apply(n,o),n;break}}return(d||a(e,f))(o,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(j).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(N,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(e);b.find=P,b.expr=P.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=P.uniqueSort,b.text=P.getText,b.isXMLDoc=P.isXML,b.contains=P.contains,b.escapeSelector=P.escape;var C=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&b(e).is(n))break;i.push(e)}return i},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=b.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,n){return g(t)?b.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?b.grep(e,function(e){return e===t!==n}):"string"!=typeof t?b.grep(e,function(e){return l.call(t,e)>-1!==n}):b.filter(t,e,n)}b.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?b.find.matchesSelector(i,e)?[i]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<i;t++)if(b.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)b.find(e,o[t],n);return i>1?b.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&T.test(e)?b(e):e||[],!1).length}});var I,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||I,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(b.merge(this,b.parseHTML(o[1],(t=t instanceof b?t[0]:t)&&t.nodeType?t.ownerDocument||t:i,!0)),S.test(o[1])&&b.isPlainObject(t))for(o in t)g(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=i.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,I=b(i);var O=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&b(e);if(!T.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?b.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?l.call(b(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return j(e,"iframe")?e.contentDocument:(j(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(n,i){var o=b.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=b.filter(i,o)),this.length>1&&(A[e]||b.uniqueSort(o),O.test(e)&&o.reverse()),this.pushStack(o)}});var N=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function F(e,t,n,i){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(n):e&&g(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return b.each(e.match(N)||[],function(e,n){t[n]=!0}),t}(e):b.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=o||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){b.each(n,function(n,i){g(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==_(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return b.each(arguments,function(e,t){for(var n;(n=b.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(e){return e?b.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(n,function(n,i){var o=g(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,i,o){var r=0;function s(t,n,i,o){return function(){var a=this,l=arguments,u=function(){var e,u;if(!(t<r)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");g(u=e&&("object"==typeof e||"function"==typeof e)&&e.then)?o?u.call(e,s(r,n,R,o),s(r,n,M,o)):u.call(e,s(++r,n,R,o),s(r,n,M,o),s(r,n,R,n.notifyWith)):(i!==R&&(a=void 0,l=[e]),(o||n.resolveWith)(a,l))}},c=o?u:function(){try{u()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,c.stackTrace),t+1>=r&&(i!==M&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),e.setTimeout(c))}}return b.Deferred(function(e){n[0][3].add(s(0,e,g(o)?o:R,e.notifyWith)),n[1][3].add(s(0,e,g(t)?t:R)),n[2][3].add(s(0,e,g(i)?i:M))}).promise()},promise:function(e){return null!=e?b.extend(e,o):o}},r={};return b.each(n,function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=b.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(F(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||g(o[n]&&o[n].then)))return s.then();for(;n--;)F(o[n],a(n),s.reject);return s.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&q.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout(function(){throw t})};var H=b.Deferred();function V(){i.removeEventListener("DOMContentLoaded",V),e.removeEventListener("load",V),b.ready()}b.fn.ready=function(e){return H.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||H.resolveWith(i,[b]))}}),b.ready.then=H.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(b.ready):(i.addEventListener("DOMContentLoaded",V),e.addEventListener("load",V));var z=function(e,t,n,i,o,r,s){var a=0,l=e.length,u=null==n;if("object"===_(n))for(a in o=!0,n)z(e,t,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,g(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(b(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):r},B=/^-ms-/,W=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function Z(e){return e.replace(B,"ms-").replace(W,U)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=b.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[Z(t)]=n;else for(i in t)o[Z(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in i?[t]:t.match(N)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||b.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var $=new Y,K=new Y,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return K.hasData(e)||$.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=K.get(r),1===r.nodeType&&!$.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Z(i.slice(5)),J(r,i,o[i]));$.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(r&&void 0===t)return void 0!==(n=K.get(r,e))?n:void 0!==(n=J(r,e))?n:void 0;this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),b.extend({queue:function(e,t,n){var i;if(e)return i=$.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=$.access(e,t,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=b.queue(e,t=t||"fx"),i=n.length,o=n.shift(),r=b._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){b.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:b.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",n])})})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each(function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=b.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=$.get(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&b.contains(e.ownerDocument,e)&&"none"===b.css(e,"display")},oe=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=s[r];return o};function re(e,t,n,i){var o,r,s=20,a=i?function(){return i.cur()}:function(){return b.css(e,t,"")},l=a(),u=n&&n[3]||(b.cssNumber[t]?"":"px"),c=(b.cssNumber[t]||"px"!==u&&+l)&&te.exec(b.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)b.style(e,t,c+u),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),c/=r;b.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}var se={};function ae(e){var t,n=e.ownerDocument,i=e.nodeName,o=se[i];return o||(t=n.body.appendChild(n.createElement(i)),o=b.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),se[i]=o,o)}function le(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=$.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&ie(i)&&(o[r]=ae(i))):"none"!==n&&(o[r]="none",$.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}b.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?b(this).show():b(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?b.merge([e],n):n}function pe(e,t){for(var n=0,i=e.length;n<i;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td;var ge,ve,me=/<|&#?\w+;/;function ye(e,t,n,i,o){for(var r,s,a,l,u,c,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((r=e[f])||0===r)if("object"===_(r))b.merge(d,r.nodeType?[r]:r);else if(me.test(r)){for(s=s||h.appendChild(t.createElement("div")),a=(ce.exec(r)||["",""])[1].toLowerCase(),s.innerHTML=(l=de[a]||de._default)[1]+b.htmlPrefilter(r)+l[2],c=l[0];c--;)s=s.lastChild;b.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(r));for(h.textContent="",f=0;r=d[f++];)if(i&&b.inArray(r,i)>-1)o&&o.push(r);else if(u=b.contains(r.ownerDocument,r),s=fe(h.appendChild(r),"script"),u&&pe(s),n)for(c=0;r=s[c++];)he.test(r.type||"")&&n.push(r);return h}ge=i.createDocumentFragment().appendChild(i.createElement("div")),(ve=i.createElement("input")).setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),ge.appendChild(ve),p.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue;var _e=i.documentElement,be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function Ce(){return!1}function Ee(){try{return i.activeElement}catch(e){}}function Te(e,t,n,i,o,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return b().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),e.each(function(){b.event.add(this,t,o,i,n)})}b.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,c,h,d,f,p,g,v=$.get(e);if(v)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&b.find.matchesSelector(_e,o),n.guid||(n.guid=b.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(t){return"undefined"!=typeof b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(N)||[""]).length;u--;)f=g=(a=xe.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=b.event.special[f]||{},h=b.event.special[f=(o?h.delegateType:h.bindType)||f]||{},c=b.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:p.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),b.event.global[f]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,u,c,h,d,f,p,g,v=$.hasData(e)&&$.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(f=g=(a=xe.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=b.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)c=d[r],!o&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,v.handle)||b.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)b.event.remove(e,f+t[u],n,i,!0);b.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=b.event.fix(e),l=new Array(arguments.length),u=($.get(this,"events")||{})[a.type]||[],c=b.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=b.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(i=((b.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=t[n]).selector+" "]&&(s[o]=i.needsContext?b(o,this).index(u)>-1:b.find(o,this,null,[u]).length),s[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&j(this,"input"))return this.click(),!1},_default:function(e){return j(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||b.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){b.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ae(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,i,o,r,s,a,l,u;if(1===t.nodeType){if($.hasData(e)&&(r=$.access(e),s=$.set(t,r),u=r.events))for(o in delete s.handle,s.events={},u)for(n=0,i=u[o].length;n<i;n++)b.event.add(t,o,u[o][n]);K.hasData(e)&&(a=K.access(e),l=b.extend({},a),K.set(t,l))}}function Ne(e,t,n,i){t=s.apply([],t);var o,r,a,l,u,c,h=0,d=e.length,f=d-1,v=t[0],m=g(v);if(m||d>1&&"string"==typeof v&&!p.checkClone&&ke.test(v))return e.each(function(o){var r=e.eq(o);m&&(t[0]=v.call(this,o,r.html())),Ne(r,t,n,i)});if(d&&(r=(o=ye(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(l=(a=b.map(fe(o,"script"),Oe)).length;h<d;h++)u=o,h!==f&&(u=b.clone(u,!0,!0),l&&b.merge(a,fe(u,"script"))),n.call(e[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,b.map(a,Ae),h=0;h<l;h++)he.test((u=a[h]).type||"")&&!$.access(u,"globalEval")&&b.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(u.src):y(u.textContent.replace(Ie,""),c,u))}return e}function Re(e,t,n){for(var i,o=t?b.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||b.cleanData(fe(i)),i.parentNode&&(n&&b.contains(i.ownerDocument,i)&&pe(fe(i,"script")),i.parentNode.removeChild(i));return e}b.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a,l,u,c=e.cloneNode(!0),h=b.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(s=fe(c),i=0,o=(r=fe(e)).length;i<o;i++)a=r[i],"input"===(u=(l=s[i]).nodeName.toLowerCase())&&ue.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||fe(e),s=s||fe(c),i=0,o=r.length;i<o;i++)Le(r[i],s[i]);else Le(e,c);return(s=fe(c,"script")).length>0&&pe(s,!h&&fe(e,"script")),c},cleanData:function(e){for(var t,n,i,o=b.event.special,r=0;void 0!==(n=e[r]);r++)if(G(n)){if(t=n[$.expando]){if(t.events)for(i in t.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,t.handle);n[$.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return z(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!de[(ce.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(fe(this)),n&&n.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var n,i=[],o=b(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),b(o[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=new RegExp(ne.join("|"),"i");function He(e,t,n){var i,o,r,s,a=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||b.contains(e.ownerDocument,e)||(s=b.style(e,t)),!p.pixelBoxStyles()&&Me.test(s)&&qe.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_e.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);o="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),r=36===n(t.width),c.style.position="absolute",s=36===c.offsetWidth||"absolute",_e.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var o,r,s,a,l,u=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var ze=/^(none|table(?!-c[ea]).+)/,Be=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:"0",fontWeight:"400"},Ze=["Webkit","Moz","ms"],Ge=i.createElement("div").style;function Ye(e){var t=b.cssProps[e];return t||(t=b.cssProps[e]=function(e){if(e in Ge)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in Ge)return e}(e)||e),t}function $e(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ke(e,t,n,i,o,r){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=b.css(e,n+ne[s],!0,o)),i?("content"===n&&(l-=b.css(e,"padding"+ne[s],!0,o)),"margin"!==n&&(l-=b.css(e,"border"+ne[s]+"Width",!0,o))):(l+=b.css(e,"padding"+ne[s],!0,o),"padding"!==n?l+=b.css(e,"border"+ne[s]+"Width",!0,o):a+=b.css(e,"border"+ne[s]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))),l}function Xe(e,t,n){var i=Fe(e),o=He(e,t,i),r="border-box"===b.css(e,"boxSizing",!1,i),s=r;if(Me.test(o)){if(!n)return o;o="auto"}return s=s&&(p.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===b.css(e,"display",!1,i))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(o=parseFloat(o)||0)+Ke(e,t,n||(r?"border":"content"),s,i,o)+"px"}function Qe(e,t,n,i,o){return new Qe.prototype.init(e,t,n,i,o)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=Z(t),l=Be.test(t),u=e.style;if(l||(t=Ye(a)),s=b.cssHooks[t]||b.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:u[t];"string"==(r=typeof n)&&(o=te.exec(n))&&o[1]&&(n=re(e,t,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(b.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var o,r,s,a=Z(t);return Be.test(t)||(t=Ye(a)),(s=b.cssHooks[t]||b.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=He(e,t,i)),"normal"===o&&t in Ue&&(o=Ue[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,i){if(n)return!ze.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Xe(e,t,i):oe(e,We,function(){return Xe(e,t,i)})},set:function(e,n,i){var o,r=Fe(e),s="border-box"===b.css(e,"boxSizing",!1,r),a=i&&Ke(e,t,i,s,r);return s&&p.scrollboxSize()===r.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Ke(e,t,"border",!1,r)-.5)),a&&(o=te.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),$e(0,n,a)}}}),b.cssHooks.marginLeft=Ve(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+ne[i]+t]=r[i]||r[i-2]||r[0];return o}},"margin"!==e&&(b.cssHooks[e+t].set=$e)}),b.fn.extend({css:function(e,t){return z(this,function(e,t,n){var i,o,r={},s=0;if(Array.isArray(t)){for(i=Fe(e),o=t.length;s<o;s++)r[t[s]]=b.css(e,t[s],!1,i);return r}return void 0!==n?b.style(e,t,n):b.css(e,t)},e,t,arguments.length>1)}}),b.Tween=Qe,(Qe.prototype={constructor:Qe,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(b.cssNumber[n]?"":"px")},cur:function(){var e=Qe.propHooks[this.prop];return e&&e.get?e.get(this):Qe.propHooks._default.get(this)},run:function(e){var t,n=Qe.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Qe.propHooks._default.set(this),this}}).init.prototype=Qe.prototype,(Qe.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[b.cssProps[e.prop]]&&!b.cssHooks[e.prop]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Qe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=Qe.prototype.init,b.fx.step={};var Je,et,tt=/^(?:toggle|show|hide)$/,nt=/queueHooks$/;function it(){et&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,b.fx.interval),b.fx.tick())}function ot(){return e.setTimeout(function(){Je=void 0}),Je=Date.now()}function rt(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=ne[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function st(e,t,n){for(var i,o=(at.tweeners[t]||[]).concat(at.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function at(e,t,n){var i,o,r=0,s=at.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Je||ot(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,s=u.tweens.length;r<s;r++)u.tweens[r].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:Je||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var i=b.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,o,r,s;for(n in e)if(o=t[i=Z(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=b.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(c,u.opts.specialEasing);r<s;r++)if(i=at.prefilters[r].call(u,e,c,u.opts))return g(i.stop)&&(b._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return b.map(c,st,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),b.fx.timer(b.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}b.Animation=b.extend(at,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return re(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(N);for(var n,i=0,o=e.length;i<o;i++)(at.tweeners[n=e[i]]=at.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,o,r,s,a,l,u,c,h="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&ie(e),v=$.get(e,"fxshow");for(i in n.queue||(null==(s=b._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,b.queue(e,"fx").length||s.empty.fire()})})),t)if(tt.test(o=t[i])){if(delete t[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!v||void 0===v[i])continue;g=!0}f[i]=v&&v[i]||b.style(e,i)}if((l=!b.isEmptyObject(t))||!b.isEmptyObject(f))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=v&&v.display)&&(u=$.get(e,"display")),"none"===(c=b.css(e,"display"))&&(u?c=u:(le([e],!0),u=e.style.display||u,c=b.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===b.css(e,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(u="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(v?"hidden"in v&&(g=v.hidden):v=$.access(e,"fxshow",{display:u}),r&&(v.hidden=!g),g&&le([e],!0),d.done(function(){for(i in g||le([e]),$.remove(e,"fxshow"),f)b.style(e,i,f[i])})),l=st(g?v[i]:0,i,d),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?at.prefilters.unshift(e):at.prefilters.push(e)}}),b.speed=function(e,t,n){var i=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return b.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in b.fx.speeds?b.fx.speeds[i.duration]:b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=b.isEmptyObject(e),r=b.speed(t,n,i),s=function(){var t=at(this,b.extend({},e),r);(o||$.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=b.timers,s=$.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&nt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=$.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=b.timers,s=i?i.length:0;for(n.finish=!0,b.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(rt(t,!0),e,i,o)}}),b.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for(Je=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),Je=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){et||(et=!0,it())},b.fx.stop=function(){et=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,this.queue(n=n||"fx",function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var lt,ut=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return z(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?b.prop(e,t,n):(1===r&&b.isXMLDoc(e)||(o=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=b.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||b.find.attr;ut[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=ut[s],ut[s]=o,o=null!=n(e,t,i)?s:null,ut[s]=r),o}});var ct=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function dt(e){return(e.match(N)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}function pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}b.fn.extend({prop:function(e,t){return z(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&b.isXMLDoc(e)||(o=b.propHooks[t=b.propFix[t]||t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(e){return null},set:function(e){}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(g(e))return this.each(function(t){b(this).addClass(e.call(this,t,ft(this)))});if((t=pt(e)).length)for(;n=this[l++];)if(o=ft(n),i=1===n.nodeType&&" "+dt(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=dt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(g(e))return this.each(function(t){b(this).removeClass(e.call(this,t,ft(this)))});if(!arguments.length)return this.attr("class","");if((t=pt(e)).length)for(;n=this[l++];)if(o=ft(n),i=1===n.nodeType&&" "+dt(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=dt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,ft(this),t),t)}):this.each(function(){var t,o,r,s;if(i)for(o=0,r=b(this),s=pt(e);t=s[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=ft(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+dt(ft(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;b.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=g(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,b(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(gt,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:dt(b.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(i=r<0?l:s?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=b(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=b.makeArray(t),s=o.length;s--;)((i=o[s]).selected=b.inArray(b.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},p.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,mt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,o,r){var s,a,l,u,c,d,f,p,m=[o||i],y=h.call(t,"type")?t.type:t,_=h.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=o=o||i,3!==o.nodeType&&8!==o.nodeType&&!vt.test(y+b.event.triggered)&&(y.indexOf(".")>-1&&(y=(_=y.split(".")).shift(),_.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[b.expando]?t:new b.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:b.makeArray(n,[t]),f=b.event.special[y]||{},r||!f.trigger||!1!==f.trigger.apply(o,n))){if(!r&&!f.noBubble&&!v(o)){for(vt.test((u=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(o.ownerDocument||i)&&m.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=m[s++])&&!t.isPropagationStopped();)p=a,t.type=s>1?u:f.bindType||y,(d=($.get(a,"events")||{})[t.type]&&$.get(a,"handle"))&&d.apply(a,n),(d=c&&a[c])&&d.apply&&G(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),n)||!G(o)||c&&g(o[y])&&!v(o)&&((l=o[c])&&(o[c]=null),b.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,mt),o[y](),t.isPropagationStopped()&&p.removeEventListener(y,mt),b.event.triggered=void 0,l&&(o[c]=l)),t.result}},simulate:function(e,t,n){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(i,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),p.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=$.access(i,t);o||i.addEventListener(e,n,!0),$.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=$.access(i,t)-1;o?$.access(i,t,o):(i.removeEventListener(e,n,!0),$.remove(i,t))}}});var yt=e.location,_t=Date.now(),bt=/\?/;b.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),n};var wt=/\[\]$/,xt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,i){var o;if(Array.isArray(t))b.each(t,function(t,o){n||wt.test(e)?i(e,o):Et(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==_(t))i(e,t);else for(o in t)Et(e+"["+o+"]",t[o],n,i)}b.param=function(e,t){var n,i=[],o=function(e,t){var n=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(n in e)Et(n,e[n],t,o);return i.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Ct.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}});var Tt=/%20/g,jt=/#.*$/,St=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ot={},At={},Lt="*/".concat("*"),Nt=i.createElement("a");function Rt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(N)||[];if(g(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Mt(e,t,n,i){var o={},r=e===At;function s(a){var l;return o[a]=!0,b.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||r||o[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Ft(e,t){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&b.extend(!0,e,i),e}Nt.href=yt.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,b.ajaxSettings),t):Ft(b.ajaxSettings,e)},ajaxPrefilter:Rt(Ot),ajaxTransport:Rt(At),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var o,r,s,a,l,u,c,h,d,f,p=b.ajaxSetup({},n=n||{}),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?b(g):b.event,m=b.Deferred(),y=b.Callbacks("once memory"),_=p.statusCode||{},w={},x={},P="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=kt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||P;return o&&o.abort(t),E(0,t),this}};if(m.promise(C),p.url=((t||p.url||yt.href)+"").replace(Dt,yt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){u=i.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Nt.protocol+"//"+Nt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Mt(Ot,p,n,C),c)return C;for(d in(h=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),r=p.url.replace(jt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Tt,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(bt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(St,"$1"),f=(bt.test(r)?"&":"?")+"_="+_t+++f),p.url=r+f),p.ifModified&&(b.lastModified[r]&&C.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&C.setRequestHeader("If-None-Match",b.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Lt+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,C,p)||c))return C.abort();if(P="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),o=Mt(At,p,n,C)){if(C.readyState=1,h&&v.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=e.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,o.send(w,E)}catch(e){if(c)throw e;E(-1,e)}}else E(-1,"No Transport");function E(t,n,i,a){var u,d,f,w,x,P=n;c||(c=!0,l&&e.clearTimeout(l),o=void 0,s=a||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(w=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(p,C,i)),w=function(e,t,n,i){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,w,C,u),u?(p.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(b.etag[r]=x)),204===t||"HEAD"===p.type?P="nocontent":304===t?P="notmodified":(P=w.state,d=w.data,u=!(f=w.error))):(f=P,!t&&P||(P="error",t<0&&(t=0))),C.status=t,C.statusText=(n||P)+"",u?m.resolveWith(g,[d,P,C]):m.rejectWith(g,[C,P,f]),C.statusCode(_),_=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?d:f]),y.fireWith(g,[C,P]),h&&(v.trigger("ajaxComplete",[C,p]),--b.active||b.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,n,i,o){return g(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:o,data:n,success:i},b.isPlainObject(e)&&e))}}),b._evalUrl=function(e){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Ht=b.ajaxSettings.xhr();p.cors=!!Ht&&"withCredentials"in Ht,p.ajax=Ht=!!Ht,b.ajaxTransport(function(t){var n,i;if(p.cors||Ht&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(qt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(o,r){t=b("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}});var Vt,zt=[],Bt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||b.expando+"_"+_t++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,s,a=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Bt,"$1"+o):!1!==t.jsonp&&(t.url+=(bt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},i.always(function(){void 0===r?b(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,zt.push(o)),s&&g(r)&&r(s[0]),s=r=void 0}),"script"}),p.createHTMLDocument=((Vt=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((o=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(o)):t=i),r=S.exec(e),s=!n&&[],r?[t.createElement(r[1])]:(r=ye([e],t,s),s&&s.length&&b(s).remove(),b.merge([],r.childNodes)));var o,r,s},b.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=dt(e.slice(a)),e=e.slice(0,a)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&b.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u=b.css(e,"position"),c=b(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),r=b.css(e,"top"),l=b.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(s=(i=c.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),g(t)&&(t=t.call(e,n,b.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):c.css(h)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===b.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),o.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-b.css(i,"marginTop",!0),left:t.left-o.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||_e})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;b.fn[e]=function(i){return z(this,function(e,i,o){var r;if(v(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o},e,i,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=Ve(p.pixelPosition,function(e,n){if(n)return n=He(e,t),Me.test(n)?b(e).position()[t]+"px":n})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){b.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return z(this,function(t,n,o){var r;return v(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?b.css(t,n,a):b.style(t,n,o,a)},t,s?o:void 0,s)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),b.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||b.guid++,o},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=j,b.isFunction=g,b.isWindow=v,b.camelCase=Z,b.type=_,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var Wt=e.jQuery,Ut=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=Ut),t&&e.jQuery===b&&(e.jQuery=Wt),b},t||(e.jQuery=e.$=b),b}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var s=function(e){var t=!1,n={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||""),"#"===n.charAt(0)&&(n=function(t){return"function"==typeof e.escapeSelector?e.escapeSelector(t).substr(1):t.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}(n));try{return e(document).find(n).length>0?n:null}catch(e){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(n){e(n).trigger(t.end)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var r=i[o],s=t[o],a=s&&n.isElement(s)?"element":{}.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+a+'" but expected type "'+r+'".')}}};return t=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},e.fn.emulateTransitionEnd=function(t){var i=this,o=!1;return e(this).one(n.TRANSITION_END,function(){o=!0}),setTimeout(function(){o||n.triggerTransitionEnd(i)},t),this},n.supportsTransitionEnd()&&(e.event.special[n.TRANSITION_END]={bindType:t.end,delegateType:t.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),n}(t),a=function(e){var t=e.fn.alert,n=function(){function t(e){this._element=e}var n=t.prototype;return n.close=function(e){var t=this._getRootElement(e=e||this._element);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=s.getSelectorFromElement(t),i=!1;return n&&(i=e(n)[0]),i||(i=e(t).closest(".alert")[0]),i},n._triggerCloseEvent=function(t){var n=e.Event("close.bs.alert");return e(t).trigger(n),n},n._removeElement=function(t){var n=this;e(t).removeClass("show"),s.supportsTransitionEnd()&&e(t).hasClass("fade")?e(t).one(s.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(150):this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||(o=new t(this),i.data("bs.alert",o)),"close"===n&&o[n](this)})},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},o(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}();return e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',n._handleDismiss(new n)),e.fn.alert=n._jQueryInterface,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=t,n._jQueryInterface},n}(t),l=function(e){var t="button",n=e.fn[t],i=function(){function t(e){this._element=e}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest('[data-toggle="buttons"]')[0];if(i){var o=e(this._element).find("input")[0];if(o){if("radio"===o.type)if(o.checked&&e(this._element).hasClass("active"))t=!1;else{var r=e(i).find(".active")[0];r&&e(r).removeClass("active")}if(t){if(o.hasAttribute("disabled")||i.hasAttribute("disabled")||o.classList.contains("disabled")||i.classList.contains("disabled"))return;o.checked=!e(this._element).hasClass("active"),e(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!e(this._element).hasClass("active")),t&&e(this._element).toggleClass("active")},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()})},o(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}();return e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){t.preventDefault();var n=t.target;e(n).hasClass("btn")||(n=e(n).closest(".btn")),i._jQueryInterface.call(e(n),"toggle")}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){var n=e(t.target).closest(".btn")[0];e(n).toggleClass("focus",/^focus(in)?$/.test(t.type))}),e.fn[t]=i._jQueryInterface,e.fn[t].Constructor=i,e.fn[t].noConflict=function(){return e.fn[t]=n,i._jQueryInterface},i}(t),u=function(e){var t="carousel",n="bs.carousel",i="."+n,a=e.fn[t],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},h={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},d=function(){function a(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(h.INDICATORS)[0],this._addEventListeners()}var d=a.prototype;return d.next=function(){this._isSliding||this._slide("next")},d.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},d.prev=function(){this._isSliding||this._slide("prev")},d.pause=function(t){t||(this._isPaused=!0),e(this._element).find(h.NEXT_PREV)[0]&&s.supportsTransitionEnd()&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},d.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},d.to=function(t){var n=this;this._activeElement=e(this._element).find(h.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(c.SLID,function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();this._slide(t>i?"next":"prev",this._items[t])}},d.dispose=function(){e(this._element).off(i),e.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},d._getConfig=function(e){return e=r({},l,e),s.typeCheckConfig(t,e,u),e},d._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(c.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(c.MOUSEENTER,function(e){return t.pause(e)}).on(c.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(c.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},d._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},d._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(h.ITEM)),this._items.indexOf(t)},d._getItemByDirection=function(e,t){var n="next"===e,i="prev"===e,o=this._getItemIndex(t);if((i&&0===o||n&&o===this._items.length-1)&&!this._config.wrap)return t;var r=(o+("prev"===e?-1:1))%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},d._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),o=this._getItemIndex(e(this._element).find(h.ACTIVE_ITEM)[0]),r=e.Event(c.SLIDE,{relatedTarget:t,direction:n,from:o,to:i});return e(this._element).trigger(r),r},d._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(h.ACTIVE).removeClass("active");var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass("active")}},d._slide=function(t,n){var i,o,r,a=this,l=e(this._element).find(h.ACTIVE_ITEM)[0],u=this._getItemIndex(l),d=n||l&&this._getItemByDirection(t,l),f=this._getItemIndex(d),p=Boolean(this._interval);if("next"===t?(i="carousel-item-left",o="carousel-item-next",r="left"):(i="carousel-item-right",o="carousel-item-prev",r="right"),d&&e(d).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(d,r).isDefaultPrevented()&&l&&d){this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(d);var g=e.Event(c.SLID,{relatedTarget:d,direction:r,from:u,to:f});s.supportsTransitionEnd()&&e(this._element).hasClass("slide")?(e(d).addClass(o),s.reflow(d),e(l).addClass(i),e(d).addClass(i),e(l).one(s.TRANSITION_END,function(){e(d).removeClass(i+" "+o).addClass("active"),e(l).removeClass("active "+o+" "+i),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(g)},0)}).emulateTransitionEnd(600)):(e(l).removeClass("active"),e(d).addClass("active"),this._isSliding=!1,e(this._element).trigger(g)),p&&this.cycle()}},a._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(n),o=r({},l,e(this).data());"object"==typeof t&&(o=r({},o,t));var s="string"==typeof t?t:o.slide;if(i||(i=new a(this,o),e(this).data(n,i)),"number"==typeof t)i.to(t);else if("string"==typeof s){if("undefined"==typeof i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else o.interval&&(i.pause(),i.cycle())})},a._dataApiClickHandler=function(t){var i=s.getSelectorFromElement(this);if(i){var o=e(i)[0];if(o&&e(o).hasClass("carousel")){var l=r({},e(o).data(),e(this).data()),u=this.getAttribute("data-slide-to");u&&(l.interval=!1),a._jQueryInterface.call(e(o),l),u&&e(o).data(n).to(u),t.preventDefault()}}},o(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}}]),a}();return e(document).on(c.CLICK_DATA_API,h.DATA_SLIDE,d._dataApiClickHandler),e(window).on(c.LOAD_DATA_API,function(){e(h.DATA_RIDE).each(function(){var t=e(this);d._jQueryInterface.call(t,t.data())})}),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=a,d._jQueryInterface},d}(t),c=function(e){var t="collapse",n="bs.collapse",i=e.fn[t],a={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},u={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},c=function(){function i(t,n){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=e(u.DATA_TOGGLE),o=0;o<i.length;o++){var r=i[o],a=s.getSelectorFromElement(r);null!==a&&e(a).filter(t).length>0&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var c=i.prototype;return c.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},c.show=function(){var t,o,r=this;if(!(this._isTransitioning||e(this._element).hasClass("show")||(this._parent&&0===(t=e.makeArray(e(this._parent).find(u.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(t=null),t&&(o=e(t).not(this._selector).data(n))&&o._isTransitioning))){var a=e.Event("show.bs.collapse");if(e(this._element).trigger(a),!a.isDefaultPrevented()){t&&(i._jQueryInterface.call(e(t).not(this._selector),"hide"),o||e(t).data(n,null));var l=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[l]=0,this._triggerArray.length>0&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){e(r._element).removeClass("collapsing").addClass("collapse").addClass("show"),r._element.style[l]="",r.setTransitioning(!1),e(r._element).trigger("shown.bs.collapse")};if(s.supportsTransitionEnd()){var h="scroll"+(l[0].toUpperCase()+l.slice(1));e(this._element).one(s.TRANSITION_END,c).emulateTransitionEnd(600),this._element.style[l]=this._element[h]+"px"}else c()}}},c.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var n=e.Event("hide.bs.collapse");if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",s.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse").removeClass("show"),this._triggerArray.length>0)for(var o=0;o<this._triggerArray.length;o++){var r=this._triggerArray[o],a=s.getSelectorFromElement(r);null!==a&&(e(a).hasClass("show")||e(r).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};this._element.style[i]="",s.supportsTransitionEnd()?e(this._element).one(s.TRANSITION_END,l).emulateTransitionEnd(600):l()}}},c.setTransitioning=function(e){this._isTransitioning=e},c.dispose=function(){e.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},c._getConfig=function(e){return(e=r({},a,e)).toggle=Boolean(e.toggle),s.typeCheckConfig(t,e,l),e},c._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},c._getParent=function(){var t=this,n=null;s.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=e(this._config.parent)[0];var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(o).each(function(e,n){t._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])}),n},c._addAriaAndCollapsedClass=function(t,n){if(t){var i=e(t).hasClass("show");n.length>0&&e(n).toggleClass("collapsed",!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(t){var n=s.getSelectorFromElement(t);return n?e(n)[0]:null},i._jQueryInterface=function(t){return this.each(function(){var o=e(this),s=o.data(n),l=r({},a,o.data(),"object"==typeof t&&t);if(!s&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),s||(s=new i(this,l),o.data(n,s)),"string"==typeof t){if("undefined"==typeof s[t])throw new TypeError('No method named "'+t+'"');s[t]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),i}();return e(document).on("click.bs.collapse.data-api",u.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),o=s.getSelectorFromElement(this);e(o).each(function(){var t=e(this),o=t.data(n)?"toggle":i.data();c._jQueryInterface.call(t,o)})}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=i,c._jQueryInterface},c}(t),h=function(e){var t="dropdown",i="bs.dropdown",a="."+i,l=e.fn[t],u=new RegExp("38|40|27"),c={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,CLICK:"click"+a,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},h={offset:0,flip:!0,boundary:"scrollParent"},d={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},f=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var f=l.prototype;return f.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var t=l._getParentFromElement(this._element),i=e(this._menu).hasClass("show");if(l._clearMenus(),!i){var o={relatedTarget:this._element},r=e.Event(c.SHOW,o);if(e(t).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;e(t).hasClass("dropup")&&(e(this._menu).hasClass("dropdown-menu-left")||e(this._menu).hasClass("dropdown-menu-right"))&&(s=t),"scrollParent"!==this._config.boundary&&e(t).addClass("position-static"),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(".navbar-nav").length&&e("body").children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(t).toggleClass("show").trigger(e.Event(c.SHOWN,o))}}}},f.dispose=function(){e.removeData(this._element,i),e(this._element).off(a),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},f.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},f._addEventListeners=function(){var t=this;e(this._element).on(c.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},f._getConfig=function(n){return n=r({},this.constructor.Default,e(this._element).data(),n),s.typeCheckConfig(t,n,this.constructor.DefaultType),n},f._getMenuElement=function(){if(!this._menu){var t=l._getParentFromElement(this._element);this._menu=e(t).find(".dropdown-menu")[0]}return this._menu},f._getPlacement=function(){var t=e(this._element).parent(),n="bottom-start";return t.hasClass("dropup")?(n="top-start",e(this._menu).hasClass("dropdown-menu-right")&&(n="top-end")):t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},f._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},f._getPopperConfig=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},l._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(i);if(n||(n=new l(this,"object"==typeof t?t:null),e(this).data(i,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=e.makeArray(e('[data-toggle="dropdown"]')),o=0;o<n.length;o++){var r=l._getParentFromElement(n[o]),s=e(n[o]).data(i),a={relatedTarget:n[o]};if(s){var u=s._menu;if(e(r).hasClass("show")&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(r,t.target))){var h=e.Event(c.HIDE,a);e(r).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),n[o].setAttribute("aria-expanded","false"),e(u).removeClass("show"),e(r).removeClass("show").trigger(e.Event(c.HIDDEN,a)))}}}},l._getParentFromElement=function(t){var n,i=s.getSelectorFromElement(t);return i&&(n=e(i)[0]),n||t.parentNode},l._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||e(t.target).closest(".dropdown-menu").length)):u.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass("disabled"))){var n=l._getParentFromElement(this),i=e(n).hasClass("show");if((i||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)){var o=e(n).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(0!==o.length){var r=o.indexOf(t.target);38===t.which&&r>0&&r--,40===t.which&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}else{if(27===t.which){var s=e(n).find('[data-toggle="dropdown"]')[0];e(s).trigger("focus")}e(this).trigger("click")}}},o(l,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return d}}]),l}();return e(document).on(c.KEYDOWN_DATA_API,'[data-toggle="dropdown"]',f._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,".dropdown-menu",f._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,f._clearMenus).on(c.CLICK_DATA_API,'[data-toggle="dropdown"]',function(t){t.preventDefault(),t.stopPropagation(),f._jQueryInterface.call(e(this),"toggle")}).on(c.CLICK_DATA_API,".dropdown form",function(e){e.stopPropagation()}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=l,f._jQueryInterface},f}(t),d=function(e){var t=e.fn.modal,n={backdrop:!0,keyboard:!0,focus:!0,show:!0},i={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},a={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},l=function(){function t(t,n){this._config=this._getConfig(n),this._element=t,this._dialog=e(t).find(a.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var l=t.prototype;return l.toggle=function(e){return this._isShown?this.hide():this.show(e)},l.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){s.supportsTransitionEnd()&&e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass("modal-open"),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",a.DATA_DISMISS,function(e){return n.hide(e)}),e(this._dialog).on("mousedown.dismiss.bs.modal",function(){e(n._element).one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},l.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var i=e.Event("hide.bs.modal");if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=s.supportsTransitionEnd()&&e(this._element).hasClass("fade");o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),o?e(this._element).one(s.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(300):this._hideModal()}}},l.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(".bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},l.handleUpdate=function(){this._adjustDialog()},l._getConfig=function(e){return e=r({},n,e),s.typeCheckConfig("modal",e,i),e},l._showElement=function(t){var n=this,i=s.supportsTransitionEnd()&&e(this._element).hasClass("fade");this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&s.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(o)};i?e(this._dialog).one(s.TRANSITION_END,r).emulateTransitionEnd(300):r()},l._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},l._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on("keydown.dismiss.bs.modal",function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},l._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",function(e){return t.handleUpdate(e)}):e(window).off("resize.bs.modal")},l._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")})},l._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},l._showBackdrop=function(t){var n=this,i=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){var o=s.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&e(this._backdrop).addClass(i),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),o&&s.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!o)return void t();e(this._backdrop).one(s.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var r=function(){n._removeBackdrop(),t&&t()};s.supportsTransitionEnd()&&e(this._element).hasClass("fade")?e(this._backdrop).one(s.TRANSITION_END,r).emulateTransitionEnd(150):r()}else t&&t()},l._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},l._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},l._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},l._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){e(a.FIXED_CONTENT).each(function(n,i){var o=e(i)[0].style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),e(a.STICKY_CONTENT).each(function(n,i){var o=e(i)[0].style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")}),e(a.NAVBAR_TOGGLER).each(function(n,i){var o=e(i)[0].style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(r)+t._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=e("body").css("padding-right");e("body").data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},l._resetScrollbar=function(){e(a.FIXED_CONTENT).each(function(t,n){var i=e(n).data("padding-right");"undefined"!=typeof i&&e(n).css("padding-right",i).removeData("padding-right")}),e(a.STICKY_CONTENT+", "+a.NAVBAR_TOGGLER).each(function(t,n){var i=e(n).data("margin-right");"undefined"!=typeof i&&e(n).css("margin-right",i).removeData("margin-right")});var t=e("body").data("padding-right");"undefined"!=typeof t&&e("body").css("padding-right",t).removeData("padding-right")},l._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},t._jQueryInterface=function(n,i){return this.each(function(){var o=e(this).data("bs.modal"),s=r({},t.Default,e(this).data(),"object"==typeof n&&n);if(o||(o=new t(this,s),e(this).data("bs.modal",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](i)}else s.show&&o.show(i)})},o(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return n}}]),t}();return e(document).on("click.bs.modal.data-api",a.DATA_TOGGLE,function(t){var n,i=this,o=s.getSelectorFromElement(this);o&&(n=e(o)[0]);var a=e(n).data("bs.modal")?"toggle":r({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var u=e(n).one("show.bs.modal",function(t){t.isDefaultPrevented()||u.one("hidden.bs.modal",function(){e(i).is(":visible")&&i.focus()})});l._jQueryInterface.call(e(n),a,this)}),e.fn.modal=l._jQueryInterface,e.fn.modal.Constructor=l,e.fn.modal.noConflict=function(){return e.fn.modal=t,l._jQueryInterface},l}(t),f=function(e){var t="tooltip",i=".bs.tooltip",a=e.fn[t],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},h={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},d={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},f=function(){function a(e,t){if("undefined"==typeof n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var f=a.prototype;return f.enable=function(){this._isEnabled=!0},f.disable=function(){this._isEnabled=!1},f.toggleEnabled=function(){this._isEnabled=!this._isEnabled},f.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},f.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},f.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var o=e.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var r=this.getTipElement(),l=s.getUID(this.constructor.NAME);r.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&e(r).addClass("fade");var u="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var h=!1===this.config.container?document.body:e(this.config.container);e(r).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(r).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,r,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(r).addClass("show"),"ontouchstart"in document.documentElement&&e("body").children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===n&&t._leave(null,t)};s.supportsTransitionEnd()&&e(this.tip).hasClass("fade")?e(this.tip).one(s.TRANSITION_END,d).emulateTransitionEnd(a._TRANSITION_DURATION):d()}},f.hide=function(t){var n=this,i=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),r=function(){"show"!==n._hoverState&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};e(this.element).trigger(o),o.isDefaultPrevented()||(e(i).removeClass("show"),"ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,s.supportsTransitionEnd()&&e(this.tip).hasClass("fade")?e(i).one(s.TRANSITION_END,r).emulateTransitionEnd(150):r(),this._hoverState="")},f.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},f.isWithContent=function(){return Boolean(this.getTitle())},f.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},f.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},f.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".tooltip-inner"),this.getTitle()),t.removeClass("fade show")},f.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},f.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},f._getAttachment=function(e){return c[e.toUpperCase()]},f._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if("manual"!==n){var i="hover"===n?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o="hover"===n?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}e(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},f._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},f._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){"show"===n._hoverState&&n.show()},n.config.delay.show):n.show())},f._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){"out"===n._hoverState&&n.hide()},n.config.delay.hide):n.hide())},f._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},f._getConfig=function(n){return"number"==typeof(n=r({},this.constructor.Default,e(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),s.typeCheckConfig(t,n,this.constructor.DefaultType),n},f._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},f._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(l);null!==n&&n.length>0&&t.removeClass(n.join(""))},f._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},f._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},a._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new a(this,i),e(this).data("bs.tooltip",n)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},o(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return u}}]),a}();return e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=a,f._jQueryInterface},f}(t),p=function(e){var t="popover",n=".bs.popover",i=e.fn[t],s=new RegExp("(^|\\s)bs-popover\\S+","g"),a=r({},f.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=r({},f.DefaultType,{content:"(string|element|function)"}),u={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},c=function(i){var r,c;function h(){return i.apply(this,arguments)||this}c=i,(r=h).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var d=h.prototype;return d.isWithContent=function(){return this.getTitle()||this._getContent()},d.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},d.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},d.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(".popover-body"),n),t.removeClass("fade show")},d._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},d._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(s);null!==n&&n.length>0&&t.removeClass(n.join(""))},h._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new h(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},o(h,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return u}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return l}}]),h}(f);return e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=i,c._jQueryInterface},c}(t),g=function(e){var t="scrollspy",n=e.fn[t],i={offset:10,method:"auto",target:""},a={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},u={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},c=function(){function n(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+u.NAV_LINKS+","+this._config.target+" "+u.LIST_ITEMS+","+this._config.target+" "+u.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,function(e){return i._process(e)}),this.refresh(),this._process()}var c=n.prototype;return c.refresh=function(){var t=this,n="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,i="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),e.makeArray(e(this._selector)).map(function(t){var o,r=s.getSelectorFromElement(t);if(r&&(o=e(r)[0]),o){var a=o.getBoundingClientRect();if(a.width||a.height)return[e(o)[n]().top+i,r]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},c.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},c._getConfig=function(n){if("string"!=typeof(n=r({},i,n)).target){var o=e(n.target).attr("id");o||(o=s.getUID(t),e(n.target).attr("id",o)),n.target="#"+o}return s.typeCheckConfig(t,n,a),n},c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},c._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&("undefined"==typeof this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}},c._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var i=e(n.join(","));i.hasClass("dropdown-item")?(i.closest(u.DROPDOWN).find(u.DROPDOWN_TOGGLE).addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_LINKS+", "+u.LIST_ITEMS).addClass("active"),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_ITEMS).children(u.NAV_LINKS).addClass("active")),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:t})},c._clear=function(){e(this._selector).filter(u.ACTIVE).removeClass("active")},n._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.scrollspy");if(i||(i=new n(this,"object"==typeof t&&t),e(this).data("bs.scrollspy",i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(n,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return i}}]),n}();return e(window).on(l.LOAD_DATA_API,function(){for(var t=e.makeArray(e(u.DATA_SPY)),n=t.length;n--;){var i=e(t[n]);c._jQueryInterface.call(i,i.data())}}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=n,c._jQueryInterface},c}(t),v=function(e){var t=e.fn.tab,n=function(){function t(e){this._element=e}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var n,i,o=e(this._element).closest(".nav, .list-group")[0],r=s.getSelectorFromElement(this._element);if(o){var a="UL"===o.nodeName?"> li > .active":".active";i=(i=e.makeArray(e(o).find(a)))[i.length-1]}var l=e.Event("hide.bs.tab",{relatedTarget:this._element}),u=e.Event("show.bs.tab",{relatedTarget:i});if(i&&e(i).trigger(l),e(this._element).trigger(u),!u.isDefaultPrevented()&&!l.isDefaultPrevented()){r&&(n=e(r)[0]),this._activate(this._element,o);var c=function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t._element}),o=e.Event("shown.bs.tab",{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var o=this,r=("UL"===n.nodeName?e(n).find("> li > .active"):e(n).children(".active"))[0],a=i&&s.supportsTransitionEnd()&&r&&e(r).hasClass("fade"),l=function(){return o._transitionComplete(t,r,i)};r&&a?e(r).one(s.TRANSITION_END,l).emulateTransitionEnd(150):l()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass("show active");var o=e(n.parentNode).find("> .dropdown-menu .active")[0];o&&e(o).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),s.reflow(t),e(t).addClass("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var r=e(t).closest(".dropdown")[0];r&&e(r).find(".dropdown-toggle").addClass("active"),t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data("bs.tab");if(o||(o=new t(this),i.data("bs.tab",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}();return e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),n._jQueryInterface.call(e(this),"show")}),e.fn.tab=n._jQueryInterface,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=t,n._jQueryInterface},n}(t);!function(e){if("undefined"==typeof e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=s,e.Alert=a,e.Button=l,e.Carousel=u,e.Collapse=c,e.Dropdown=h,e.Modal=d,e.Popover=p,e.Scrollspy=g,e.Tab=v,e.Tooltip=f,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.diva=t(require("jquery")):e.diva=t(e.jQuery)}(this,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){n(1),e.exports=n(7)},function(e,t,n){var i=n(2);i.registerPlugin(n(6)),i.registerPlugin(n(42)),i.registerPlugin(n(43)),i.registerPlugin(n(44)),i.registerPlugin(n(45)),i.registerPlugin(n(46))},function(e,t,n){var i=n(3),o=n(4),r=n(5),s=e.exports={Events:new o,registerPlugin:function(e){r.register(e)},create:function(e,t){if(s.find(e))throw new Error("Diva is already initialized on "+(o=(n=e).id?"#"+n.id:n.id,r=n.className?"."+n.className.split(/\s+/g).join("."):"",(o||n.tagName.toLowerCase())+r));var n,o,r,a=i(e);return a.diva(t),a.data("diva")},find:function(e){return i(e).data("diva")||null}}},function(t,n){t.exports=e},function(e,t){function n(){this._cache={}}e.exports=n,n.prototype.publish=function(e,t,n){if(this._cache[e]){var i=this._cache[e];if("undefined"!=typeof i.global)for(var o=i.global,r=o.length,s=0;s<r;s++)o[s].apply(n||null,t||[]);if(n&&"undefined"!=typeof n.getInstanceId){var a=n.getInstanceId();if(this._cache[e][a])for(var l=this._cache[e][a],u=l.length,c=0;c<u;c++)l[c].apply(n,t||[])}}},n.prototype.subscribe=function(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]},n.prototype.unsubscribe=function(e,t){var n=e[0];if(this._cache[n]){var i,o=3===e.length?e[2]:"global";if(!(i=this._cache[n][o]))return!1;if(t)return delete this._cache[n][o],i.length>0;for(var r=i.length;r--;)if(i[r]===e[1])return this._cache[n][o].splice(r,1),!0}return!1},n.prototype.unsubscribeAll=function(e){if(e)for(var t,n=Object.keys(this._cache),i=n.length;i--;)"undefined"!=typeof this._cache[t=n[i]][e]&&delete this._cache[t][e];else this._cache={}}},function(e,t){var n=[];e.exports={register:function(e){n.push(e)},getAll:function(){return n}}},function(e,t,n){var i,o,r=n(3),s=n(7);i=r,e.exports=(o={},{init:function(e,t){var n,r,a,l,u;function c(e){return Math.log(e)/Math.log(10)}t.startScrolling=function(){e.currentlyAutoScrolling?console.warn("You are trying to start autoscrolling, but it is already scrolling."):(i("#"+e.ID+"autoscroll-toggle").text("Turn off"),r&&t.disableScrollable(),e.currentlyAutoScrolling=!0,h())};var h=function(){clearInterval(e.autoScrollInterval),e.autoScrollInterval=e.verticallyOriented?setInterval(function(){e.viewportObject.scrollTop(e.viewportObject.scrollTop()+n)},a):setInterval(function(){e.viewportObject.scrollLeft(e.viewportObject.scrollLeft()+n)},a)};t.stopScrolling=function(){e.currentlyAutoScrolling?(i("#"+e.ID+"autoscroll-toggle").text("Turn on"),r&&t.enableScrollable(),e.currentlyAutoScrolling=!1,clearInterval(e.autoScrollInterval)):console.warn("You are trying to stop autoscrolling, but it is not currently active.")},t.toggleScrolling=function(){e.currentlyAutoScrolling?t.stopScrolling():t.startScrolling()},t.changeRefresh=function(e){a=e,d()},t.changeScrollSpeed=function(t){u=t,d(),i("#"+e.ID+"autoscroll-pps").val(c(u)),e.currentlyAutoScrolling&&h()};var d=function(){(n=u/(1e3/(a=l)))<1&&(n=u/(1e3/(a*=1/n)))};if(t.disableManualScroll=function(){r=!0,e.currentlyAutoScrolling&&t.disableScrollable()},t.enableManualScroll=function(){r=!1,e.currentlyAutoScrolling&&t.enableScrollable()},e.currentlyAutoScrolling=!1,e.autoScrollInterval="",r=e.disableManualScroll||!1,l=a=e.autoScrollRefresh||50,t.changeScrollSpeed(e.scrollSpeed||10),i(window).on("keyup",function(e){e.shiftKey&&32===e.keyCode&&t.toggleScrolling()}),!e.disableAutoscrollPrefs){var f=function(t){if(e.inFullscreen){var n=i(e.selector+"tools"),r=n.css("right");o.jqObj.css({right:r,"margin-right":0,top:n.offset().top+n.outerHeight()+15})}else o.jqObj.css({right:i(window).width()-(e.viewportObject.offset().left+e.viewportObject.outerWidth())+e.scrollbarWidth,"margin-right":".6em"}),o.jqObj.offset({top:e.viewportObject.offset().top+1})};s.Events.subscribe("ModeDidSwitch",f,e.ID),s.Events.subscribe("ViewerDidLoad",function(n){var r="<div id='"+e.ID+"autoscroll-prefs' class='diva-autoscroll-prefs diva-popup'><b>Autoscrolling options:</b><br><span class='diva-autoscroll-prefs-text'>Speed:</span><input type='range' id='"+e.ID+"autoscroll-pps' class='diva-autoscroll-pps diva-autoscroll-prefs-input' value='"+c(u)+"' min='0' max='3' step='0.1'><br><span class='diva-autoscroll-prefs-text'>Allow manual scroll:</span><input type='checkbox' id='"+e.ID+"autoscroll-manual' class='diva-autoscroll-manual diva-autoscroll-prefs-input' checked='checked'><br><button id='"+e.ID+"autoscroll-toggle' class='diva-autoscroll-prefs-toggle diva-autoscroll-prefs-input'> Turn on </button></div>";i("#"+e.ID+"page-nav").before("<div id='"+e.ID+"autoscroll-icon' class='diva-button diva-autoscroll-icon' title='Expand autoscroll options'></div>"),i("body").prepend(r),i("#"+e.ID+"autoscroll-pps").on("change",function(e){t.changeScrollSpeed(Math.pow(10,e.target.value))}),i("#"+e.ID+"autoscroll-manual").on("change",function(e){e.target.checked?t.enableManualScroll():t.disableManualScroll()}),i("#"+e.ID+"autoscroll-toggle").on("click",t.toggleScrolling),i("#"+e.ID+"autoscroll-icon").on("click",function(t){o.jqObj=i("#"+e.ID+"autoscroll-prefs"),"none"===o.jqObj.css("display")?(o.jqObj.css({display:"block"}),f()):o.jqObj.css("display","none")})},e.ID)}},pluginName:"autoscroll",titleText:"Automatically scrolls page along primary axis"})},function(e,t,n){var i,o,r=n(3),s=n(8),a=n(9),l=n(10),u=n(2),c=n(11),h=n(13),d=n(14);new l,e.exports=u,o=function(e,t){var n,o,r,l=this;t=i.extend({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableKeyScroll:!0,enableLinkIcon:!0,enablePrintIcon:!0,enableDownloadIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,iipServerURL:"",inFullscreen:!1,inBookLayout:!1,inGrid:!1,imageDir:"",maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:1},t);var f=function(e){return p(n.manifest,e)},p=function(e,t){var n,i=e.pages.length;for(n=0;n<i;n++){if(!e.pages[n])return-1;if(e.pages[n].f===t)return n}return-1},g=function(e){return n.manifest.isPageValid(e,n.showNonPagedPages)},v=function(e){return r.viewerCore.reload(e)},m=function(e){switch(e){case"document":return v({inGrid:!1,inBookLayout:!1});case"book":return v({inGrid:!1,inBookLayout:!0});case"grid":return v({inGrid:!0});default:return!1}},y=function(){v({inFullscreen:!n.inFullscreen})},_=function(){var e;e=n.inGrid?"g":n.inBookLayout?"b":"d";var t=r.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(n.currentPageIndex,o.viewport);return{f:n.inFullscreen,v:e,z:n.zoomLevel,n:n.pagesPerRow,i:!!n.enableFilename&&n.manifest.pages[n.currentPageIndex].f,p:!n.enableFilename&&n.currentPageIndex+1,y:!!t&&t.y,x:!!t&&t.x}},b=function(e,t){t=t||n.manifest;var i="v"in e?x(e.v):{};"f"in e&&(i.inFullscreen=e.f),"z"in e&&(i.zoomLevel=e.z),"n"in e&&(i.pagesPerRow=e.n);var o=p(t,e.i);if(o>=0&&o<t.pages.length||(o=e.p-1)>=0&&o<t.pages.length||(o=null),null!==o){var r=parseInt(e.x,10),s=parseInt(e.y,10);i.goDirectlyTo=o,i.horizontalOffset=r,i.verticalOffset=s}return i},w=function(){var e,t=_(),i=[];for(e in t)!1!==t[e]&&i.push(e+n.hashParamSuffix+"="+encodeURIComponent(t[e]));return i.join("&")},x=function(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return null}},P=function(e,t,i){var o=["Invalid objectData setting. Error code: "+e.status+" "+i];if(0===n.objectData.lastIndexOf("http",0)&&""===i){var a=n.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];location.hostname!==a&&o.push(s("p","Attempted to access cross-origin data without CORS."),s("p","You may need to update your server configuration to support CORS. For help, see the ",s("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}r.viewerCore.showError(o)},C=function(e,t){var i,o;!e.hasOwnProperty("@context")||-1===e["@context"].indexOf("iiif")&&-1===e["@context"].indexOf("shared-canvas")?(console.warn("Usage of IIP manifests is deprecated. Consider switching to IIIF manifests. Visit http://iiif.io/ for more information."),i=!1,o=c.fromLegacyManifest(e,{iipServerURL:n.iipServerURL,imageDir:n.imageDir})):(i=!0,u.Events.publish("ManifestDidLoad",[e],l),o=c.fromIIIF(e));var s=t?b(t,o):{};r.viewerCore.setManifest(o,i,s)},E=function(){return!!o.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)};this.getItemTitle=function(){return n.manifest.itemTitle},this.gotoPageByNumber=function(e,t,n){console.warn("This method is deprecated. Consider using gotoPageByIndex(pageIndex, xAnchor, yAnchor) instead.");var i=parseInt(e,10)-1;return this.gotoPageByIndex(i,t,n)},this.gotoPageByIndex=function(e,t,n){if(e=parseInt(e,10),g(e)){var i=r.viewerCore.getXOffset(e,t),s=r.viewerCore.getYOffset(e,n);return o.renderer.goto(e,s,i),!0}return!1},this.getNumberOfPages=function(){return!!E()&&n.numPages},this.getPageDimensions=function(e){return E()?r.viewerCore.getCurrentLayout().getPageDimensions(e):null},this.getPageDimensionsAtZoomLevel=function(e,t){if(!E())return!1;t>n.maxZoomLevel&&(t=n.maxZoomLevel);var i=n.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:i.w,height:i.h}},this.getPageDimensionsAtCurrentZoomLevel=function(e){if(e=g(e)?e:n.currentPageIndex,!g(e))throw new Error("Invalid Page Index");return r.viewerCore.getCurrentLayout().getPageDimensions(e)},this.getCurrentPageDimensionsAtCurrentZoomLevel=function(){return this.getPageDimensionsAtCurrentZoomLevel(n.currentPageIndex)},this.isReady=function(){return o.loaded},this.getCurrentPageIndex=function(){return n.currentPageIndex},this.getCurrentPageFilename=function(){return n.manifest.pages[n.currentPageIndex].f},this.getCurrentPageNumber=function(){return console.warn("This method is deprecated. Consider using getCurrentPageIndex() instead."),n.currentPageIndex+1},this.getFilenames=function(){for(var e=[],t=0;t<n.numPages;t++)e[t]=n.manifest.pages[t].f;return e},this.getZoomLevel=function(){return n.zoomLevel},this.getMaxZoomLevel=function(){return n.maxZoomLevel},this.getMaxZoomLevelForPage=function(e){return!!E&&n.manifest.pages[e].m},this.getMinZoomLevel=function(){return n.minZoomLevel},this.setZoomLevel=function(e){return n.inGrid&&v({inGrid:!1}),r.viewerCore.zoom(e)},this.getGridPagesPerRow=function(){return this.pagesPerRow},this.setGridPagesPerRow=function(e){return!!r.viewerCore.isValidOption("pagesPerRow",e)&&v({inGrid:!0,pagesPerRow:e})},this.zoomIn=function(){return this.setZoomLevel(n.zoomLevel+1)},this.zoomOut=function(){return this.setZoomLevel(n.zoomLevel-1)},this.isRegionInViewport=function(e,t,n,i,s){var a=r.viewerCore.getCurrentLayout();if(!a)return!1;var l=a.getPageOffset(e),u=l.top+n,c=l.left+t;return o.viewport.intersectsRegion({top:u,bottom:u+s,left:c,right:c+i})},this.isPageInViewport=function(e){return o.renderer.isPageVisible(e)},this.isPageLoaded=function(e){return console.warn("This method is deprecated. Consider using isPageInViewport(pageIndex) instead."),this.isPageInViewport(e)},this.toggleFullscreenMode=function(){y()},this.toggleNonPagedPagesVisibility=function(){v({showNonPagedPages:!n.showNonPagedPages})},this.showNonPagedPages=function(){v({showNonPagedPages:!0})},this.hideNonPagedPages=function(){v({showNonPagedPages:!1})},this.closePopups=function(){r.toolbar.closePopups()},this.enterFullscreenMode=function(){return!n.inFullscreen&&(y(),!0)},this.leaveFullscreenMode=function(){return!!n.inFullscreen&&(y(),!0)},this.isInFullscreen=function(){return n.inFullscreen},this.changeView=function(e){return m(e)},this.enterGridView=function(){return!n.inGrid&&(m("grid"),!0)},this.leaveGridView=function(){return!!n.inGrid&&(v({inGrid:!1}),!0)},this.gotoPageByName=function(e,t,n){var i=f(e);return this.gotoPageByIndex(i,t,n)},this.gotoPageByLabel=function(e,t,i){for(var o=n.manifest.pages,r=0,s=o.length;r<s;r++)if(o[r].l.toLowerCase().indexOf(e.toLowerCase())>-1)return this.gotoPageByIndex(r,t,i);var a=parseInt(e,10)-1;return this.gotoPageByIndex(a,t,i)},this.getPageIndex=function(e){return f(e)},this.getCurrentURL=function(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+w()},this.isPageIndexValid=function(e){return g(e)},this.getURLHash=function(){return w()},this.getState=function(){return _()},this.setState=function(e){v(b(e))},this.getInstanceSelector=function(){return n.selector},this.getInstanceId=function(){return n.ID},this.getSettings=function(){return n},this.translateFromMaxZoomLevel=function(e){return e/Math.pow(2,n.maxZoomLevel-n.zoomLevel)},this.translateToMaxZoomLevel=function(e){var t=n.maxZoomLevel-n.zoomLevel;return 0===t?e:e*Math.pow(2,t)},this.enableScrollable=function(){r.viewerCore.enableScrollable()},this.disableScrollable=function(){r.viewerCore.disableScrollable()},this.toggleOrientation=function(){return v({inGrid:!1,verticallyOriented:e=!n.verticallyOriented,goDirectlyTo:n.currentPageIndex,verticalOffset:r.viewerCore.getYOffset(),horizontalOffset:r.viewerCore.getXOffset()}),e;var e},this.getPageOffset=function(e,t){var n=r.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}},this.getCurrentPageOffset=function(){return this.getPageOffset(n.currentPageIndex)},this.getPageDimensionsAtCurrentGridLevel=function(e){return console.warn("This method is deprecated. Consider using getPageDimensionsAtCurrentZoomLevel(pageIndex) instead."),this.getPageDimensionsAtCurrentZoomLevel(e)},this.getPageIndexForPageXYValues=function(e,t){var n=o.outerElement.getBoundingClientRect(),i=n.top,r=n.bottom;if(e<n.left||e>n.right)return-1;if(t<i||t>r)return-1;for(var s=document.getElementsByClassName("diva-page"),a=s.length;a--;){var l=s[a],u=l.getBoundingClientRect();if(!(e<u.left||e>u.right||t<u.top||t>u.bottom))return l.getAttribute("data-index")}return-1},this.getPageImageURL=function(e,t){return n.manifest.getPageImageURL(e,t)},this.isVerticallyOriented=function(){return n.verticallyOriented},this.changeObject=function(e){o.loaded=!1,r.viewerCore.clear(),o.renderer&&o.renderer.destroy(),o.options.objectData=e,"object"!=typeof e?(o.throbberTimeoutID=setTimeout(function(){i(n.selector+"throbber").show()},n.throbberTimeout),i.ajax({url:n.objectData,cache:!0,dataType:"json",error:P,success:function(e){C(e)}})):setTimeout(function(){C(e)})},this.activate=function(){o.isActiveDiva=!0},this.deactivate=function(){o.isActiveDiva=!1},this.destroy=function(){r.viewerCore.destroy()},this.__addPageOverlay=function(e){r.viewerCore.addPageOverlay(e)},this.__removePageOverlay=function(e){r.viewerCore.removePageOverlay(e)},this.getAliasForPageIndex=function(e){var t=parseInt(e,10);return n.pageAliases[t]||n.pageAliasFunction(t)||t+1},this.getPageIndexForAlias=function(e){for(var t=0;t<n.numPages;t++)if(this.getAliasForPageIndex(t)===e)return t;return!1},this.getPageIndicesForAlias=function(e){for(var t=[],i=0;i<n.numPages;i++)this.getAliasForPageIndex(i)===e&&t.push(i);return t},this.getCurrentAliasedPageIndex=function(){return this.getAliasForPageIndex(n.currentPageIndex)},this.gotoPageByAliasedNumber=function(e,t,n){return this.gotoPageByIndex(this.getPageIndexForAlias(e),t,n)},function(){var u=s("div",{class:"diva-wrapper"+(t.fillParentHeight?" diva-wrapper-flexbox":"")});e.appendChild(u),t.toolbarParentObject=t.toolbarParentObject||i(u);var c=new d(u,t,l);o=c.getInternalState(),n=c.getSettings(),u.id=n.ID+"wrapper",r={viewerCore:c,toolbar:n.enableToolbar?h(l):null};var f,p=(f={},["f","v","z","n","i","p","y","x"].forEach(function(e){var t=a.get(e+n.hashParamSuffix);!1!==t&&(f[e]=t)}),"true"===f.f?f.f=!0:"false"===f.f&&(f.f=!1),["z","n","p","x","y"].forEach(function(e){e in f&&(f[e]=parseInt(f[e],10))}),f);if("object"==typeof n.objectData)setTimeout(function(){C(n.objectData,p)},0);else{var g=i.ajax({url:n.objectData,cache:!0,dataType:"json",error:P,success:function(e){C(e,p)}});c.setPendingManifestRequest(g)}}()},(i=r).fn.diva=function(e){return this.each(function(){var t=i(this);if(!t.data("diva")){if(!document.body.contains(this))throw new Error("Diva could not be initialized because this element is not attached to the DOM");var n=new o(this,e);t.data("diva",n)}})}},function(e,t){function n(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array)for(var o=t.length,r=0;r<o;r++)n(e,t[r]);else i(e,t)}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}e.exports=function(e){for(var t=document.createElement(e),i=Array.prototype.slice.call(arguments,1);i.length;)n(t,i.shift());return t},e.exports.setAttributes=i},function(e,t){function n(e){var t=window.location.hash;if(""!==t){var n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){var i=t.indexOf("&",n+=e.length+2);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}e.exports.get=n,e.exports.update=function(e,t){var i=n(e),o=window.location.hash;if(i!==t)if("string"==typeof i){var r=o.indexOf("&"+e+"=")>0?o.indexOf("&"+e+"="):o.indexOf("#"+e+"="),s=r+e.length+2+i.length,a=0===r?"#":"&";window.location.replace(o.substring(0,r)+a+e+"="+t+o.substring(s))}else 0===o.length?window.location.replace("#"+e+"="+t):window.location.replace(o+"&"+e+"="+t)}},function(e,t,n){var i,o=n(3),r=(i=o,function(){var e;i(document).on("click",function(e){t(i(e.target))});var t=function(t){var n,o,r=t.find(".diva-outer"),s=t.closest(".diva-outer"),a=document.getElementsByClassName("diva-outer"),l=a.length;if(r.length>0)n=r;else{if(!(s.length>0)){for(o=0;o<l;o++)i(a[o].parentElement.parentElement).data("diva").deactivate();return}n=s}for(n.parent().parent().data("diva").activate(),e=n.parent(),a=document.getElementsByClassName("diva-outer"),o=0;o<l;o++)a[o].getAttribute("id")!=n.attr("id")&&i(a[o].parentElement.parentElement).data("diva").deactivate()};this.getActive=function(){return e}});e.exports=r},function(e,t,n){var i=n(12);function o(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}function r(e){return function(t){return this[e][t]}}function s(){}function a(e){this._config=e}e.exports=o,o.fromIIIF=function(e){return new o(i(e),new s)},o.fromLegacyManifest=function(e,t){for(var n=0,i=e.pgs.length;n<i;n++)e.pgs[n].l=(n+1).toString();return new o(e,new a(t))},o.prototype.isPageValid=function(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&e>=0&&e<this.pages.length},o.prototype.getMaxPageDimensions=function(e){var t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}},o.prototype.getPageDimensionsAtZoomLevel=function(e,t){var n=this.pages[e].d[this.maxZoom],i=1/Math.pow(2,this.maxZoom-t);return{height:n.h*i,width:n.w*i}},o.prototype.getPageImageURL=function(e,t){return this._urlAdapter.getPageImageURL(this,e,t)},o.prototype.getPageImageTiles=function(e,t,n){var i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);var o,r,s,a=Math.ceil(i.d[t].h/n.height),l=Math.ceil(i.d[t].w/n.width),u=[];for(o=0;o<a;o++)for(r=0;r<l;r++)s=this._urlAdapter.getTileImageURL(this,e,{row:o,col:r,rowCount:a,colCount:l,zoomLevel:t,tileDimensions:n}),u.push({row:o,col:r,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:o*n.height,left:r*n.width},url:s});return{zoomLevel:t,rows:a,cols:l,tiles:u}},o.prototype.getMaxWidth=r("_maxWidths"),o.prototype.getMaxHeight=r("_maxHeights"),o.prototype.getAverageWidth=r("_averageWidths"),o.prototype.getAverageHeight=r("_averageHeights"),o.prototype.getTotalWidth=r("_totalWidths"),o.prototype.getTotalHeight=r("_totalHeights"),s.prototype.getPageImageURL=function(e,t,n){var i=e.pages[t];return encodeURI(i.url+"full/"+(!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height))+"/0/"+(i.api>1.1?"default":"native")+".jpg")},s.prototype.getTileImageURL=function(e,t,n){var i,o,r=e.pages[t];i=n.row===n.rowCount-1?r.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,o=n.col===n.colCount-1?r.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;var s=Math.pow(2,e.maxZoom-n.zoomLevel),a=n.col*n.tileDimensions.width*s,l=n.row*n.tileDimensions.height*s;r.hasOwnProperty("xoffset")&&(a+=r.xoffset,l+=r.yoffset);var u=[a,l,o*s,i*s].join(",");return encodeURI(r.url+u+"/"+o+","+i+"/0/"+(r.api>1.1?"default":"native")+".jpg")},a.prototype.getPageImageURL=function(e,t,n){var i="";return n&&(null!=n.width&&(i+="&WID="+n.width),null!=n.height&&(i+="&HEI="+n.height)),this._config.iipServerURL+"?FIF="+this._config.imageDir+"/"+e.pages[t].f+i+"&CVT=JPEG"},a.prototype.getTileImageURL=function(e,t,n){var i=e.pages[t];return encodeURI(this._config.iipServerURL+"?FIF="+this._config.imageDir+"/"+i.f+"&JTL="+(n.zoomLevel+i.m-e.maxZoom)+","+(n.row*n.colCount+n.col)+"&CVT=JPEG")}},function(e,t){"use strict";e.exports=function(e){for(var t,s,a,l,u,c,h,d,f,p,g,v,m,y,_,b,w,x=e.sequences[0],P=x.canvases,C=P.length,E=new Array(P.length),T=100,j=0,S=100,k=0;k<C;k++){var I=P[k];if(0!==I.width&&0!==I.height){var D=I.width,O=I.height,A=n(D,O),L=D/O;j=Math.max(L,j),S=Math.min(L,S),T=Math.min(T,A)}}for(var N=new Array(T+1).fill(0),R=new Array(T+1).fill(0),M=new Array(T+1).fill(0),F=new Array(T+1).fill(0),q=0;q<C;q++)if(v=(t=P[q])["@id"],t.images&&0!==t.images.length){m=t.label,a="oa:Choice"===(s=t.images[0].resource)["@type"]?s.default:s,g=n(f=t.width||a.width,p=t.height||a.height),s.item&&(l=o(s.item,T,f,p)),y=a.label||null,c="/"!==(h=r(a)).url.slice(-1)?h.url+"/":h.url,d="http://iiif.io/api/image/2/context.json"===(u=a.service["@context"])?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===u?1.1:1,_=new Array(T+1);for(var H=0;H<T+1;H++){b=Math.floor(i(f,T-H)),w=Math.floor(i(p,T-H)),_[H]={h:w,w:b};var V=R[H]+w;N[H]=N[H]+b,R[H]=V,M[H]=Math.max(b,M[H]),F[H]=Math.max(w,F[H])}E[q]={d:_,m:g,l:m,il:y,f:c,url:c,api:d,paged:"non-paged"!==t.viewingHint,facingPages:"facing-pages"===t.viewingHint,canvas:v,otherImages:l,xoffset:h.x||null,yoffset:h.y||null}}else console.warn("An empty canvas was found: "+v);for(var z=new Array(T+1).fill(0),B=new Array(T+1).fill(0),W=0;W<T+1;W++)z[W]=N[W]/C,B[W]=R[W]/C;return{item_title:e.label,dims:{a_wid:z,a_hei:B,max_w:M,max_h:F,max_ratio:j,min_ratio:S,t_hei:R,t_wid:N},max_zoom:T,pgs:E,pages:"paged"===e.viewingHint||"paged"===x.viewingHint}};var n=function(e,t){var n=Math.max(e,t);return Math.ceil(Math.log((n+1)/257)/Math.log(2))},i=function(e,t){return e/Math.pow(2,t)},o=function(e,t,n,o){return e.map(function(e){for(var r=e.width||n,s=e.height||o,a=new Array(t+1),l=0;l<t+1;l++)a[l]={h:Math.floor(i(s,t-l)),w:Math.floor(i(r,t-l))};return{label:e.label||"",dims:a}})};function r(e){var t=e["@id"],n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/,i="",o=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){var r=t.split("/");i=r[r.length-4]}else n.test(t)?i=n.exec(t)[1]:e.service&&e.service["@id"]&&(t=e.service["@id"],o=!1);o&&(t=t.split("/").slice(0,-4).join("/"));var s={url:t};if(i.length){var a=i.split(",");s.x=parseInt(a[0],10),s.y=parseInt(a[1],10),s.w=parseInt(a[2],10),s.h=parseInt(a[3],10)}return s}},function(e,t,n){var i=n(3),o=n(2),r=n(8);e.exports=function(e){var t=e.getSettings(),n=function(e,n){var o={id:t.ID+e,class:"diva-"+e};return n?i.extend(o,n):o},s=function(e,n){o.Events.subscribe(e,n,t.ID)},a=function(e,n,i){var o=r("button",{type:"button",id:t.ID+e,class:"diva-"+e+" diva-button",title:n});return i&&o.addEventListener("click",i,!1),o},l=function(e){return function(){var n;switch(t[e.controllerSetting]){case"slider":n=e.createSlider();break;case"buttons":n=e.createButtons();break;default:return null}var i=r("span",n,e.createLabel()),o=function(){i.style.display=t.inGrid===e.showInGrid?"inline":"none"};return s("ViewDidSwitch",o),s("ObjectDidLoad",o),o(),i}},u=l({controllerSetting:"enableZoomControls",showInGrid:!1,createSlider:function(){var n=c("zoom-slider",{step:.1,value:t.zoomLevel,min:t.minZoomLevel,max:t.maxZoomLevel}),o=i(n);o.on("input",function(){var t=parseFloat(this.value);e.setZoomLevel(t)}),o.on("change",function(){var n=parseFloat(this.value);n!==t.zoomLevel&&e.setZoomLevel(n)});var a=function(){t.zoomLevel!==o.val()&&o.val(t.zoomLevel)};return s("ZoomLevelDidChange",a),s("ViewerDidLoad",function(){r.setAttributes(n,{min:t.minZoomLevel,max:t.maxZoomLevel}),a()}),n},createButtons:function(){return r("span",a("zoom-out-button","Zoom Out",function(){e.setZoomLevel(t.zoomLevel-1)}),a("zoom-in-button","Zoom In",function(){e.setZoomLevel(t.zoomLevel+1)}))},createLabel:function(){var e=h("diva-zoom-label","zoom-label","","zoom-level",t.zoomLevel),n=i(e).find(t.selector+"zoom-level")[0],o=function(){n.textContent=t.zoomLevel.toFixed(2)};return s("ZoomLevelDidChange",o),s("ViewerDidLoad",o),e}}),c=(l({controllerSetting:"enableGridControls",showInGrid:!0,createSlider:function(){var n=c("grid-slider",{value:t.pagesPerRow,min:t.minPagesPerRow,max:t.maxPagesPerRow}),o=i(n);return o.on("input",function(){var t=parseInt(n.value,10);e.setGridPagesPerRow(t)}),o.on("change",function(){var i=parseInt(n.value,10);i!==t.pagesPerRow&&e.setGridPagesPerRow(i)}),s("GridRowNumberDidChange",function(){t.pagesPerRow!==o.val()&&o.val(t.pagesPerRow)}),n},createButtons:function(){return r("span",a("grid-out-button","Zoom Out",function(){e.setGridPagesPerRow(t.pagesPerRow-1)}),a("grid-in-button","Zoom In",function(){e.setGridPagesPerRow(t.pagesPerRow+1)}))},createLabel:function(){var e=h("diva-grid-label","grid-label","Pages per row: ","pages-per-row",t.pagesPerRow),n=i(e).find(t.selector+"pages-per-row")[0];return s("GridRowNumberDidChange",function(){n.textContent=t.pagesPerRow}),e}}),function(e,n){return r("input",n,{id:t.ID+e,class:"diva-"+e+" diva-slider",type:"range"})}),h=function(e,n,i,o,s){return r("div",{id:t.ID+n,class:e+" diva-label"},[i,r("span",{id:t.ID+o},s)])};return function(){var o,l,c,h,d=[(o=[function(){var o=r("div",n("view-options")),l=a("view-icon","Change view",function(){i(o).toggle()});i(document).mouseup(function(e){var n=i(o);n.is(e.target)||0!==n.has(e.target).length||e.target.id===t.ID+"view-icon"||n.hide()});var u=function(t){e.changeView(t),i(o).hide()},c=function(){l.className=t.inGrid?"diva-grid-icon diva-view-icon diva-button":t.inBookLayout?"diva-book-icon diva-view-icon diva-button":"diva-document-icon diva-view-icon diva-button";var e=document.createDocumentFragment();for((t.inGrid||t.inBookLayout)&&e.appendChild(a("document-icon","Document View",u.bind(null,"document"))),!t.inGrid&&t.inBookLayout||e.appendChild(a("book-icon","Book View",u.bind(null,"book"))),t.inGrid||e.appendChild(a("grid-icon","Grid View",u.bind(null,"grid")));o.firstChild;)o.removeChild(o.firstChild);o.appendChild(e)};return s("ViewDidSwitch",c),s("ObjectDidLoad",c),r("div",n("view-menu"),l,o)}()],t.enablePrintIcon&&o.push((h=a("print-icon","Print this page"),i(h).on("click",function(){return!1}),h)),t.enableLinkIcon&&o.push(function(){var n=a("link-icon","Link to this page"),o=i(n);return o.on("click",function(){if(i("body").prepend(r("div",{id:t.ID+"link-popup",class:"diva-popup diva-link-popup"},[r("input",{id:t.ID+"link-popup-input",class:"diva-input",type:"text",value:e.getCurrentURL()})])),t.inFullscreen)i(t.selector+"link-popup").addClass("in-fullscreen");else{var n=o.offset().left-222+o.outerWidth(),s=o.offset().top+o.outerHeight()-1;i(t.selector+"link-popup").css({top:s+"px",left:n+"px"})}return i("body").mouseup(function(e){var n=e.target.id;n!==t.ID+"link-popup"&&n!==t.ID+"link-popup-input"&&i(t.selector+"link-popup").remove()}),t.viewportObject.scroll(function(){i(t.selector+"link-popup").remove()}),i(t.selector+"link-popup input").click(function(){i(this).focus().select()}),!1}),n}()),t.enableDownloadIcon&&o.push(function(){var e=a("dwn-icon","Download this page");return i(e).on("click",function(){return!1}),e}()),t.enableNonPagedVisibilityIcon&&o.push((l=function(){return"toggle-nonpaged-icon"+(e.getSettings().showNonPagedPages?"-active":"")},c=a(l(),"Toggle visibility of non-paged pages",function(){e.toggleNonPagedPagesVisibility();var t="diva-"+l();this.className=this.className.replace(/diva-toggle-nonpaged-icon(-active)?/,t)}),s("ObjectDidLoad",function(){for(var e=t.manifest.pages,n=0;n<e.length;n++)if(t.manifest.paged&&!e[n].paged)return void(c.style.display="inline-block");c.style.display="none"}),c)),t.enableFullscreen&&o.push(a("fullscreen-icon","Toggle fullscreen mode",function(){e.toggleFullscreenMode()})),r("span",n("toolbar-button-group"),o)),u()],f=r("div",n("tools"),r("div",n("tools-left"),[]),r("div",n("tools-right"),d));t.toolbarParentObject.prepend(f);var p=function(){var e=document.getElementById(t.ID+"tools-right"),n=document.getElementById(t.ID+"page-nav");t.inFullscreen?(i(f).addClass("diva-fullscreen-tools"),e.removeChild(n),e.appendChild(n)):(i(f).removeClass("diva-fullscreen-tools"),e.removeChild(n),e.insertBefore(n,e.firstChild))};return s("ModeDidSwitch",p),s("ViewerDidLoad",p),{element:f,closePopups:function(){i(".diva-popup").css("display","none")}}}()}},function(e,t,n){var i=n(3);n(15);var o=n(8),r=n(16),s=n(17),a=n(2),l=n(18),u=n(22),c=n(23),h=n(5),d=n(24),f=n(34),p=n(39),g=n(40),v=n(41),m=n(25)("diva:ViewerCore");e.exports=function(e,t,n){var b=this,w=i(e),x={currentPageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isIIIF:!1,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new c,pageTools:[],parentObject:w,pendingManifestRequest:null,plugins:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null},P=p([t,x]);Object.defineProperties(P,{panelHeight:{get:function(){return x.viewport.height}},panelWidth:{get:function(){return x.viewport.width}}});var C=new g({additionalProperties:[{key:"manifest",get:function(){return x.manifest}}],validations:y}),E=function(e,t){return C.isValid(e,t,x.options)},T=function(e,t){var n={id:P.ID+e,class:"diva-"+e};return t?i.extend(n,t):n},j=function(e,t){return P.manifest.pages[e].d[P.zoomLevel][t]},S=function(){x.viewport.top=0,clearTimeout(x.resizeTimer)},k=function(e){var t=[];if(e=C.getValidatedOptions(P,e),I(e,"zoomLevel")&&(x.oldZoomLevel=P.zoomLevel,x.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),I(e,"pagesPerRow")&&(x.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),I(e,"verticallyOriented")&&(x.options.verticallyOriented=e.verticallyOriented),I(e,"showNonPagedPages")&&(x.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(x.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(x.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(x.horizontalOffset=e.horizontalOffset)):x.options.goDirectlyTo=P.currentPageIndex,(I(e,"inGrid")||I(e,"inBookLayout"))&&("inGrid"in e&&(x.options.inGrid=e.inGrid),"inBookLayout"in e&&(x.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",P.inGrid])),I(e,"inFullscreen")&&(x.options.inFullscreen=e.inFullscreen,D(e),t.push(["ModeDidSwitch",P.inFullscreen])),S(),O(),x.renderer){var n={pageLayouts:f(P),padding:N(),maxZoomLevel:P.inGrid?null:x.manifest.maxZoom,verticallyOriented:P.verticallyOriented||P.inGrid},i={zoomLevel:P.inGrid?null:P.zoomLevel,anchorPage:P.goDirectlyTo,verticalOffset:x.verticalOffset,horizontalOffset:x.horizontalOffset},o=L();if(m.enabled){var r=Object.keys(n).filter(function(e){return"pageLayouts"!==e&&"padding"!==e}).map(function(e){return e+": "+JSON.stringify(n[e])}).join(", ");m("reload with %s",r)}x.renderer.load(n,i,o)}return t.forEach(function(e){G.apply(null,e)}),!0},I=function(e,t){return t in e&&e[t]!==P[t]},D=function(e){var t=e.inFullscreen?"addClass":"removeClass";x.outerObject[t]("diva-fullscreen"),i("body")[t]("diva-hide-scrollbar"),P.parentObject[t]("diva-full-width");var n=P.panelHeight,o=P.panelWidth;if(x.viewport.invalidate(),!(x.loaded||P.inGrid||"verticalOffset"in e)){var r=P.panelWidth;x.verticalOffset+=(n-P.panelHeight)/2,x.horizontalOffset+=(o-r)/2}e.inFullscreen?i(document).on("keyup",M):i(document).off("keyup",M)},O=function(){var e=P.inGrid?u:l;!x.viewHandler||x.viewHandler instanceof e||(x.viewHandler.destroy(),x.viewHandler=null),x.viewHandler||(x.viewHandler=new e(b)),x.renderer||A()},A=function(){var e=d.getCompatibilityErrors();e?Z(e):x.renderer=new d({viewport:x.viewport,outerElement:x.outerElement,innerElement:x.innerElement},{onViewWillLoad:function(){x.viewHandler.onViewWillLoad()},onViewDidLoad:function(){R(),x.viewHandler.onViewDidLoad()},onViewDidUpdate:function(e,t){R(),x.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:function(){R()},onPageWillLoad:function(e){G("PageWillLoad",e)}})},L=function(){if(P.inGrid){var e={getAllZoomLevelsForPage:function(t){return[e.getBestZoomLevelForPage(t)]},getBestZoomLevelForPage:function(e){return{zoomLevel:1,rows:1,cols:1,tiles:[{url:P.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]}}};return e}var t={width:P.tileWidth,height:P.tileHeight};return{getBestZoomLevelForPage:function(e){return P.manifest.getPageImageTiles(e.index,Math.ceil(P.zoomLevel),t)},getAllZoomLevelsForPage:function(e){for(var n=[],i=x.manifest.maxZoom,o=0;o<=i;o++)n.push(P.manifest.getPageImageTiles(e.index,o,t));return n.reverse(),n}}},N=function(){var e,t,n,i;return P.inGrid?(n=P.fixedPadding,e=t=i=0):(e=P.verticallyOriented?x.verticalPadding:0,t=P.verticallyOriented?0:x.horizontalPadding,n=P.verticallyOriented?0:x.verticalPadding,i=P.verticallyOriented?x.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}},R=function(){x.pageOverlays.updateOverlays(x.renderer.getRenderedPages())},M=function(e){27==e.keyCode&&k({inFullscreen:!P.inFullscreen})},F=function(e,t){return e="undefined"==typeof e?P.currentPageIndex:e,"center"===t||"centre"===t?parseInt(j(e,"h")/2,10):"bottom"===t?parseInt(j(e,"h")-P.panelHeight/2,10):parseInt(P.panelHeight/2,10)},q=function(e,t){return e="undefined"==typeof e?P.currentPageIndex:e,"left"===t?parseInt(P.panelWidth/2,10):"right"===t?parseInt(j(e,"w")-P.panelWidth/2,10):parseInt(j(e,"w")/2,10)},H=function(){return x.viewport.invalidate(),x.renderer&&(V(),x.renderer.goto(P.currentPageIndex,x.verticalOffset,x.horizontalOffset)),!0},V=function(){var e=x.renderer.layout.getPageToViewportCenterOffset(P.currentPageIndex,x.viewport);e&&(x.horizontalOffset=e.x,x.verticalOffset=e.y)},z=function(){x.viewportObject.dragscrollable({dragSelector:".diva-dragger",acceptPropagatedEvent:!0}),x.innerObject.dragscrollable({dragSelector:".diva-dragger",acceptPropagatedEvent:!0}),s.onDoubleClick(x.viewportObject,function(e,t){m("Double click at %s, %s",t.left,t.top),x.viewHandler.onDoubleClick(e,t)})},B=function(){H(),clearTimeout(x.resizeTimer),x.resizeTimer=setTimeout(function(){var e=x.renderer.layout.getPageToViewportCenterOffset(P.currentPageIndex,x.viewport);k(e?{goDirectlyTo:P.currentPageIndex,verticalOffset:e.y,horizontalOffset:e.x}:{goDirectlyTo:P.currentPageIndex})},200)},W=function(){var e,t=x.viewport.top,n=x.viewport.left;x.viewport.invalidate();var i=x.viewport.top,o=x.viewport.left;x.renderer.adjust(e=P.verticallyOriented||P.inGrid?i-t:o-n);var r=P.verticallyOriented||P.inGrid?i:o;G("ViewerDidScroll",r),e>0?G("ViewerDidScrollDown",r):e<0&&G("ViewerDidScrollUp",r),V()},U=function(){clearTimeout(x.throbberTimeoutID),i(P.selector+"throbber").hide()},Z=function(e){var t=o("div",T("error"),[o("button",T("error-close",{"aria-label":"Close dialog"})),o("p",o("strong","Error")),o("div",e)]);x.outerObject.append(t),i(P.selector+"error-close").on("click",function(){t.parentNode.removeChild(t)})},G=function(e){var t=Array.prototype.slice.call(arguments,1);a.Events.publish(e,t,n)};this.getSettings=function(){return P},this.getInternalState=function(){return x},this.getPublicInstance=function(){return n},this.getPageTools=function(){return x.pageTools},this.getCurrentLayout=function(){return x.renderer?x.renderer.layout:null},this.getViewport=function(){var e=x.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}},this.addPageOverlay=function(e){x.pageOverlays.addOverlay(e)},this.removePageOverlay=function(e){x.pageOverlays.removeOverlay(e)},this.getPageRegion=function(e,t){var n=x.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){var o=P.verticallyOriented?"width":"height";if(x.viewport[o]>n.dimensions[o]){var r=(x.viewport[o]-n.dimensions[o])/2;return P.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+r,right:i.right+r}:{top:i.top+r,bottom:i.bottom+r,left:i.left,right:i.right}}}return i},this.getPagePositionAtViewportOffset=function(e){for(var t={left:e.left+x.viewport.left,top:e.top+x.viewport.top},n=x.renderer.getRenderedPages(),i=n.length,o=0;o<i;o++){var r=n[o],s=x.renderer.layout.getPageRegion(r);if(s.left<=t.left&&s.right>=t.left&&s.top<=t.top&&s.bottom>=t.top)return{anchorPage:r,offset:{left:t.left-s.left,top:t.top-s.top}}}var a=x.renderer.layout.getPageRegion(P.currentPageIndex);return{anchorPage:P.currentPageIndex,offset:{left:t.left-a.left,top:t.top-a.top}}},this.setManifest=function(e,t,n){!function(e,t,n){if(x.manifest=e,x.isIIIF=t,U(),x.numPages=P.manifest.pages.length,C.validate(x.options),G("NumberOfPagesDidChange",P.numPages),P.enableAutoTitle&&(i(P.selector+"title").length?i(P.selector+"title").html(P.manifest.itemTitle):P.parentObject.prepend(o("div",T("title"),[P.manifest.itemTitle]))),P.adaptivePadding>0){var r=Math.floor((P.minZoomLevel+P.maxZoomLevel)/2);x.horizontalPadding=parseInt(P.manifest.getAverageWidth(r)*P.adaptivePadding,10),x.verticalPadding=parseInt(P.manifest.getAverageHeight(r)*P.adaptivePadding,10)}else x.horizontalPadding=P.fixedPadding,x.verticalPadding=P.fixedPadding;var s,a;x.pageTools.length&&(x.verticalPadding=Math.max(40,x.verticalPadding)),P.manifest.paged&&(x.options.inBookLayout=!0),G("ObjectDidLoad",P),H();var l=!1,u=!1;null==n.goDirectlyTo?(n.goDirectlyTo=P.goDirectlyTo,s=a=!0):(s=null==n.horizontalOffset||isNaN(n.horizontalOffset),a=null==n.verticalOffset||isNaN(n.verticalOffset)),s&&(0===n.goDirectlyTo&&P.inBookLayout&&P.verticallyOriented?n.horizontalOffset=x.horizontalPadding:(u=!0,n.horizontalOffset=q(n.goDirectlyTo,"center"))),a&&(l=!0,n.verticalOffset=F(n.goDirectlyTo,"top")),k(n),H(),P.verticallyOriented?x.innerElement.style.minWidth=P.panelWidth+"px":x.innerElement.style.minHeight=P.panelHeight+"px",(l||u)&&(l&&(x.verticalOffset=F(P.currentPageIndex,"top")),u&&(x.horizontalOffset=q(P.currentPageIndex,"center")),x.renderer.goto(P.currentPageIndex,x.verticalOffset,x.horizontalOffset)),x.loaded=!0,G("ViewerDidLoad",P)}(e,t,n||{})},this.setCurrentPage=function(e){x.currentPageIndex!==e&&(x.currentPageIndex=e,G("VisiblePageDidChange",e,this.getPageName(e)))},this.getPageName=function(e){return x.manifest.pages[e].f},this.reload=function(e){k(e)},this.zoom=function(e,t){return function(e,t){if(!E("zoomLevel",e))return!1;if(null==t){var n=x.viewport,i=x.renderer.layout.getPageRegion(P.currentPageIndex);t={anchorPage:P.currentPageIndex,offset:{left:n.width/2-(i.left-n.left),top:n.height/2-(i.top-n.top)}}}var o=x.renderer.layout.getPageRegion(t.anchorPage),r=o.left+t.offset.left-(P.viewport.left+P.viewport.width/2),s=o.top+t.offset.top-(P.viewport.top+P.viewport.height/2);function a(e){var n=Math.pow(2,e-l);return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:t.offset.top*n-s,horizontalOffset:t.offset.left*n-r}}var l=x.oldZoomLevel=P.zoomLevel;x.options.zoomLevel=e;var u=a(e);return x.options.goDirectlyTo=u.anchorPage,x.verticalOffset=u.verticalOffset,x.horizontalOffset=u.horizontalOffset,x.renderer.transitionViewportPosition({duration:300,parameters:{zoomLevel:{from:l,to:e}},getPosition:function(e){return a(e.zoomLevel)},onEnd:function(t){x.viewportObject.scroll(W),t.interrupted&&(x.oldZoomLevel=e)}}),G("ZoomLevelDidChange",e),x.viewportObject.off("scroll"),!0}(e,t)},this.enableScrollable=function(){x.isScrollable||(z(),x.options.enableKeyScroll=x.initialKeyScroll,x.options.enableSpaceScroll=x.initialSpaceScroll,x.viewportElement.style.overflow="auto",x.isScrollable=!0)},this.disableScrollable=function(){x.isScrollable&&(x.innerObject.hasClass("diva-dragger")&&x.innerObject.unbind("mousedown"),x.outerObject.unbind("dblclick"),x.outerObject.unbind("contextmenu"),x.viewportElement.style.overflow="hidden",x.initialKeyScroll=P.enableKeyScroll,x.initialSpaceScroll=P.enableSpaceScroll,x.options.enableKeyScroll=!1,x.options.enableSpaceScroll=!1,x.isScrollable=!1)},this.isValidOption=function(e,t){return E(e,t)},this.showError=function(e){U();var t=o("div",T("error"),[o("button",T("error-close",{"aria-label":"Close dialog"})),o("p",o("strong","Error")),o("div",e)]);x.outerObject.append(t),i(P.selector+"error-close").on("click",function(){t.parentNode.removeChild(t)})},this.getXOffset=function(e,t){return q(e,t)},this.getYOffset=function(e,t){return F(e,t)},this.publish=G,this.clear=function(){S()},this.setPendingManifestRequest=function(e){x.pendingManifestRequest=e},this.destroy=function(){G("ViewerWillTerminate",P),P.pendingManifestRequest&&P.pendingManifestRequest.abort(),i("body").removeClass("diva-hide-scrollbar"),P.parentObject.parent().empty().removeData("diva"),P.parentObject.parent().removeAttr("style").removeAttr("class"),G("ViewerDidTerminate",P),a.Events.unsubscribeAll(P.ID)},function(){x.scrollbarWidth=r(),x.mobileWebkit=void 0!==window.orientation;var e=_();x.ID="diva-"+e+"-",x.selector="#"+P.ID,null===t.hashParamSuffix&&(t.hashParamSuffix=1===e?"":e+"");var l=o("div",T("inner",{class:"diva-inner diva-dragger"})),u=o("div",T("viewport"),l),c=o("div",T("outer"),u,o("div",T("throbber")));x.innerElement=l,x.viewportElement=u,x.outerElement=c,x.innerObject=i(l),x.viewportObject=i(u),x.outerObject=i(c),P.parentObject.append(c),x.viewport=new v(x.viewportElement,{intersectionTolerance:P.viewportMargin}),h.getAll().forEach(function(e){var t=e.pluginName[0].toUpperCase()+e.pluginName.substring(1);if(P["enable"+t]){if(!e.init(P,n))return;"function"==typeof e.handleClick&&x.pageTools.push(e),P.plugins.push(e)}}),x.innerObject.mousedown(function(){x.innerObject.addClass("diva-grabbing")}),x.innerObject.mouseup(function(){x.innerObject.removeClass("diva-grabbing")}),z(),x.viewportObject.scroll(W),i(document).on("keydown.diva",function(e){if(!x.isActiveDiva)return!0;if(P.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||P.enableKeyScroll&&34===e.keyCode)return x.viewport.top+=P.panelHeight,!1;if(P.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),P.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return x.viewport.top-=P.panelHeight,!1;case 38:return x.viewport.top-=P.arrowScrollAmount,!1;case 40:return x.viewport.top+=P.arrowScrollAmount,!1;case 37:return x.viewport.left-=P.arrowScrollAmount,!1;case 39:return x.viewport.left+=P.arrowScrollAmount,!1;case 36:return x.viewport.top=0,!1;case 35:return P.verticallyOriented?x.viewport.top=1/0:x.viewport.left=1/0,!1;default:return!0}}return!0}),a.Events.subscribe("ViewerDidTerminate",function(){i(document).off("keydown.diva")},P.ID),P.blockMobileMove&&i("body").bind("touchmove",function(e){return e.originalEvent.preventDefault(),!1}),x.viewportObject.kinetic({triggerHardware:!0}),s.onPinch(x.viewportObject,function(e,t,n,i){m("Pinch %s at %s, %s",i-n,t.left,t.top),x.viewHandler.onPinch(e,t,n,i)}),s.onDoubleTap(x.viewportObject,function(e,t){m("Double tap at %s, %s",t.left,t.top),x.viewHandler.onDoubleClick(e,t)}),window.addEventListener("resize",B,!1),a.Events.subscribe("ViewerDidTerminate",function(){window.removeEventListener("resize",B,!1)},P.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",B,!1),a.Events.subscribe("ViewerDidTerminate",function(){window.removeEventListener("orientationchange",B,!1)},P.ID)),a.Events.subscribe("PanelSizeDidChange",H,P.ID),a.Events.subscribe("ViewerDidTerminate",function(){x.renderer&&x.renderer.destroy(),clearTimeout(x.resizeTimer)},P.ID),U(),x.throbberTimeoutID=setTimeout(function(){i(P.selector+"throbber").show()},P.throbberTimeout)}()};var y=[{key:"goDirectlyTo",validate:function(e,t){if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:function(e){return Math.max(2,e)}},{key:"maxPagesPerRow",validate:function(e,t){return Math.max(e,t.minPagesPerRow)}},{key:"pagesPerRow",validate:function(e,t){if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:function(e,t,n){if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:function(e,t,n){return e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0}},{key:"zoomLevel",validate:function(e,t,n){return e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}}];function _(){return _.counter++}_.counter=1},function(e,t,n){var i,o=n(3);(i=o).fn.dragscrollable=function(e){var t=i.extend({dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0},e||{}),n={mouseDownHandler:function(e){return!(1!=e.which||!e.data.acceptPropagatedEvent&&e.target!=this)&&(e.data.lastCoord={left:e.clientX,top:e.clientY},i.event.add(document,"mouseup",n.mouseUpHandler,e.data),i.event.add(document,"mousemove",n.mouseMoveHandler,e.data),e.data.preventDefault?(e.preventDefault(),!1):void 0)},mouseMoveHandler:function(e){var t=e.clientX-e.data.lastCoord.left,n=e.clientY-e.data.lastCoord.top;if(e.data.scrollable.scrollLeft(e.data.scrollable.scrollLeft()-t),e.data.scrollable.scrollTop(e.data.scrollable.scrollTop()-n),e.data.lastCoord={left:e.clientX,top:e.clientY},e.data.preventDefault)return e.preventDefault(),!1},mouseUpHandler:function(e){if(i.event.remove(document,"mousemove",n.mouseMoveHandler),i.event.remove(document,"mouseup",n.mouseUpHandler),e.data.preventDefault)return e.preventDefault(),!1}};this.each(function(){var e={scrollable:i(this),acceptPropagatedEvent:t.acceptPropagatedEvent,preventDefault:t.preventDefault};i(this).find(t.dragSelector).bind("mousedown",e,n.mouseDownHandler)})},function(e){"use strict";window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),e.support=e.support||{},e.extend(e.support,{touch:"ontouchend"in document});var t=function(t,n){return this.settings=n,this.el=t,this.$el=e(t),this._initElements(),this};t.DATA_KEY="kinetic",t.DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},t.prototype.start=function(t){this.settings=e.extend(this.settings,t),this.velocity=t.velocity||this.velocity,this.velocityY=t.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},t.prototype.end=function(){this.settings.decelerate=!0},t.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,e.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},t.prototype.detach=function(){this._detachListeners(),this.$el.removeClass("kinetic-active").css("cursor","")},t.prototype.attach=function(){this.$el.hasClass("kinetic-active")||(this._attachListeners(this.$el),this.$el.addClass("kinetic-active").css("cursor",this.settings.cursor))},t.prototype._initElements=function(){this.$el.addClass("kinetic-active"),e.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,e(document).mouseup(e.proxy(this._resetMouse,this)).click(e.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},t.prototype._initEvents=function(){var t=this;this.settings.events={touchStart:function(e){var n;t._useTarget(e.target,e)&&(n=e.originalEvent.touches[0],t.threshold=t._threshold(e.target,e),t._start(n.clientX,n.clientY),e.stopPropagation())},touchMove:function(e){var n;t.mouseDown&&(t._inputmove((n=e.originalEvent.touches[0]).clientX,n.clientY),e.preventDefault&&e.preventDefault())},inputDown:function(e){t._useTarget(e.target,e)&&(t.threshold=t._threshold(e.target,e),t._start(e.clientX,e.clientY),t.elementFocused=e.target,"IMG"===e.target.nodeName&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){t._useTarget(e.target,e)&&(t._end(),t.elementFocused=null,e.preventDefault&&e.preventDefault())},inputMove:function(e){t.mouseDown&&(t._inputmove(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(n){e.isFunction(t.settings.moved)&&t.settings.moved.call(t,t.settings),n.preventDefault&&n.preventDefault()},inputClick:function(e){if(Math.abs(t.velocity)>0)return e.preventDefault(),!1},dragStart:function(e){if(t._useTarget(e.target,e)&&t.elementFocused)return!1},selectStart:function(n){return e.isFunction(t.settings.selectStart)?t.settings.selectStart.apply(t,arguments):!t._useTarget(n.target,n)&&void 0}},this._attachListeners(this.$el,this.settings)},t.prototype._inputmove=function(t,n){var i=this.$el;if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var o=t-this.xpos,r=n-this.ypos;if(this.settings.invert&&(o*=-1,r*=-1),this.threshold>0){var s=Math.sqrt(o*o+r*r);if(this.threshold>s)return;this.threshold=0}this.elementFocused&&(e(this.elementFocused).blur(),this.elementFocused=null,i.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var a=this.scrollLeft(),l=this.scrollTop();this.scrollLeft(this.settings.x?a-o:a),this.scrollTop(this.settings.y?l-r:l),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=t,this.ypos=n,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),e.isFunction(this.settings.moved)&&this.settings.moved.call(this,this.settings)}},t.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},t.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},t.prototype._useTarget=function(t,n){return!e.isFunction(this.settings.filterTarget)||!1!==this.settings.filterTarget.call(this,t,n)},t.prototype._threshold=function(t,n){return e.isFunction(this.settings.threshold)?this.settings.threshold.call(this,t,n):this.settings.threshold},t.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},t.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},t.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},t.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},t.prototype._setMoveClasses=function(e){var t=this.settings,n=this.$el;n.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),this.velocity>0&&n.addClass(e.right),this.velocity<0&&n.addClass(e.left),this.velocityY>0&&n.addClass(e.down),this.velocityY<0&&n.addClass(e.up)},t.prototype._move=function(){var t=this._getScroller()[0],n=this,i=n.settings;i.x&&t.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?n._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&t.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?n._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,n._setMoveClasses(i.deceleratingClass),e.isFunction(i.moved)&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){n.moving=!1,n._move()})):n.stop()},t.prototype._getScroller=function(){var t=this.$el;return(this.$el.is("body")||this.$el.is("html"))&&(t=e(window)),t},t.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft();t.scrollLeft(e),this.settings.scrollLeft=e},t.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop();t.scrollTop(e),this.settings.scrollTop=e},t.prototype._attachListeners=function(){var t=this.$el,n=this.settings;e.support.touch&&t.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove),t.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),t.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",n.events.selectStart).bind("dragstart",n.events.dragStart)},t.prototype._detachListeners=function(){var t=this.$el,n=this.settings;e.support.touch&&t.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove),t.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove),t.unbind("click",n.events.inputClick).unbind("scroll",n.events.scroll).unbind("selectstart",n.events.selectStart).unbind("dragstart",n.events.dragStart)},e.Kinetic=t,e.fn.kinetic=function(n,i){return this.each(function(){var o=e(this),r=o.data(t.DATA_KEY),s=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);r||o.data(t.DATA_KEY,r=new t(this,s)),"string"==typeof n&&r[n](i)})}}(o),function(e){e.Kinetic.prototype._attachListeners=function(){var t=this.$el,n=this.settings;e.support.touch&&t.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove),t.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",n.events.selectStart).bind("dragstart",n.events.dragStart)},e.Kinetic.prototype._detachListeners=function(){var t=this.$el,n=this.settings;e.support.touch&&t.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove),t.unbind("click",n.events.inputClick).unbind("scroll",n.events.scroll).unbind("selectstart",n.events.selectStart).unbind("dragstart",n.events.dragStart)}}(o)},function(e,t){e.exports=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n==i&&(i=t.clientWidth),document.body.removeChild(t),n-i}},function(e,t){e.exports={onDoubleClick:function(e,t){e.on("dblclick",function(e){e.ctrlKey||t(e,a(e.currentTarget,e))});var i=s(n);e.on("contextmenu",function(e){e.preventDefault(),e.ctrlKey&&(i.isTriggered()?(i.reset(),t(e,a(e.currentTarget,e))):i.trigger())})},onPinch:function(e,t){var n=0;e.on("touchstart",function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=r(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))}),e.on("touchmove",function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){var i=e.originalEvent.touches,o=r(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY);Math.abs(o-n)>0&&t(e,a(e.currentTarget,{pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2}),n,o)}})},onDoubleTap:function(e,t){var n=s(o),l=null;e.on("touchend",function(e){if(e.preventDefault(),n.isTriggered()){n.reset();var o={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};r(l.pageX,l.pageY,o.pageX,o.pageY)<i&&t(e,a(e.currentTarget,o)),l=null}else l={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};var n=500,i=50,o=250;function r(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function s(e){var t=!1,n=null;return{trigger:function(){t=!0,i(),n=setTimeout(function(){t=!1,n=null},e)},isTriggered:function(){return t},reset:function(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function a(e,t){var n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}},function(e,t,n){var i=n(19),o=n(21);function r(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],e.getPageTools().length)for(var t=e.getSettings().numPages,n=0;n<t;n++){var i=new o(n,e);this._overlays.push(i),e.addPageOverlay(i)}}e.exports=r,r.prototype.onDoubleClick=function(e,t){var n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,o=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,o)},r.prototype.onPinch=function(e,t,n,i){var o=this._viewerCore.getInternalState(),r=this._viewerCore.getSettings(),s=Math.log(Math.pow(2,r.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(s=Math.max(r.minZoomLevel,s),(s=Math.min(r.maxZoomLevel,s))!==r.zoomLevel){var a=this._viewerCore.getPagePositionAtViewportOffset(t),l=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,o.viewport),u=1/Math.pow(2,r.zoomLevel-s);this._viewerCore.reload({zoomLevel:s,goDirectlyTo:a.anchorPage,horizontalOffset:l.x-a.offset.left+a.offset.left*u,verticalOffset:l.y-a.offset.top+a.offset.top*u})}},r.prototype.onViewWillLoad=function(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())},r.prototype.onViewDidLoad=function(){this._handleZoomLevelChange();var e=this._viewerCore.getSettings().currentPageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)},r.prototype.onViewDidUpdate=function(e,t){var n=null!==t?t:function(e,t,n){var o=n.top+n.height/2,r=n.left+n.width/2,s=i(e,function(e){var n=t.getPageDimensions(e),i=t.getPageOffset(e,{excludePadding:!1}),s=i.top+n.width/2,a=Math.max(Math.abs(r-(i.left+n.height/2))-n.width/2,0),l=Math.max(Math.abs(o-s)-n.height/2,0);return-(a*a+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());null!==n&&this._viewerCore.setCurrentPage(n),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()},r.prototype._handleZoomLevelChange=function(){var e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(this._viewerCore.publish(e.oldZoomLevel<t?"ViewerDidZoomIn":"ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t},r.prototype.destroy=function(){this._overlays.forEach(function(e){this._viewerCore.removePageOverlay(e)},this)}},function(e,t,n){(function(e,n){var i="Expected a function",o=1,r=2,s=1/0,a=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",w="[object Symbol]",x="[object ArrayBuffer]",P="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,T=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[l]=D[u]=D[x]=D[c]=D[P]=D[h]=D[d]=D[f]=D[g]=D[v]=D[m]=D[y]=D[_]=D[b]=D["[object WeakMap]"]=!1;var O="object"==typeof e&&e&&e.Object===Object&&e,A="object"==typeof self&&self&&self.Object===Object&&self,L=O||A||Function("return this")(),N="object"==typeof t&&t&&!t.nodeType&&t,R=N&&"object"==typeof n&&n&&!n.nodeType&&n,M=R&&R.exports===N&&O.process,F=function(){try{return M&&M.binding("util")}catch(e){}}(),q=F&&F.isTypedArray;function H(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var W,U,Z,G=Array.prototype,Y=Function.prototype,$=Object.prototype,K=L["__core-js_shared__"],X=(W=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Q=Y.toString,J=$.hasOwnProperty,ee=$.toString,te=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=L.Symbol,ie=L.Uint8Array,oe=$.propertyIsEnumerable,re=G.splice,se=(U=Object.keys,Z=Object,function(e){return U(Z(e))}),ae=Le(L,"DataView"),le=Le(L,"Map"),ue=Le(L,"Promise"),ce=Le(L,"Set"),he=Le(L,"WeakMap"),de=Le(Object,"create"),fe=ze(ae),pe=ze(le),ge=ze(ue),ve=ze(ce),me=ze(he),ye=ne?ne.prototype:void 0,_e=ye?ye.valueOf:void 0,be=ye?ye.toString:void 0;function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.__data__=new Pe;++t<n;)this.add(e[t])}function Ee(e){this.__data__=new xe(e)}function Te(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function je(e,t){for(var n=0,i=(t=Me(t,e)?[t]:De(t)).length;null!=e&&n<i;)e=e[Ve(t[n++])];return n&&n==i?e:void 0}function Se(e,t){return e>t}function ke(e,t){return null!=e&&t in Object(e)}function Ie(e,t,n,i,s){return e===t||(null==e||null==t||!Ke(e)&&!Xe(t)?e!=e&&t!=t:function(e,t,n,i,s,a){var f=Ze(e),p=Ze(t),C=u,E=u;f||(C=(C=Ne(e))==l?m:C),p||(E=(E=Ne(t))==l?m:E);var T=C==m&&!V(e),j=E==m&&!V(t),S=C==E;if(S&&!T)return a||(a=new Ee),f||Je(e)?Oe(e,t,n,i,s,a):function(e,t,n,i,s,a,l){switch(C){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!i(new ie(e),new ie(t)));case c:case h:case v:return We(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case g:var u=z;case _:if(u||(u=B),e.size!=t.size&&!(a&r))return!1;var f=l.get(e);if(f)return f==t;a|=o,l.set(e,t);var p=Oe(u(e),u(t),i,s,a,l);return l.delete(e),p;case w:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,0,n,i,s,a);if(!(s&r)){var k=T&&J.call(e,"__wrapped__"),I=j&&J.call(t,"__wrapped__");if(k||I){var D=k?e.value():e,O=I?t.value():t;return a||(a=new Ee),n(D,O,i,s,a)}}return!!S&&(a||(a=new Ee),function(e,t,n,i,o,s){var a=o&r,l=et(e),u=l.length;if(u!=et(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:J.call(t,h)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var f=!0;s.set(e,t),s.set(t,e);for(var p=a;++c<u;){var g=e[h=l[c]],v=t[h];if(i)var m=a?i(v,g,h,t,e,s):i(g,v,h,e,t,s);if(!(void 0===m?g===v||n(g,v,i,o,s):m)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,i,s,a))}(e,t,Ie,n,i,s))}function De(e){return Ze(e)?e:He(e)}function Oe(e,t,n,i,s,a){var l=s&r,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var h=a.get(e);if(h&&a.get(t))return h==t;var d=-1,f=!0,p=s&o?new Ce:void 0;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(i)var m=l?i(v,g,d,t,e,a):i(g,v,d,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!H(t,function(e,t){if(!p.has(t)&&(g===e||n(g,e,i,s,a)))return p.add(t)})){f=!1;break}}else if(g!==v&&!n(g,v,i,s,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Ae(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ke(e)||X&&X in e)&&(Ye(e)||V(e)?te:k).test(ze(e))}(n)?n:void 0}we.prototype.clear=function(){this.__data__=de?de(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(de){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return J.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:J.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=de&&void 0===t?"__lodash_hash_undefined__":t,this},xe.prototype.clear=function(){this.__data__=[]},xe.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),0))},xe.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},xe.prototype.has=function(e){return Te(this.__data__,e)>-1},xe.prototype.set=function(e,t){var n=this.__data__,i=Te(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Pe.prototype.clear=function(){this.__data__={hash:new we,map:new(le||xe),string:new we}},Pe.prototype.delete=function(e){return Ae(this,e).delete(e)},Pe.prototype.get=function(e){return Ae(this,e).get(e)},Pe.prototype.has=function(e){return Ae(this,e).has(e)},Pe.prototype.set=function(e,t){return Ae(this,e).set(e,t),this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ce.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new xe},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var i=n.__data__;if(!le||i.length<199)return i.push([e,t]),this;n=this.__data__=new Pe(i)}return n.set(e,t),this};var Ne=function(e){return ee.call(e)};function Re(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Me(e,t){if(Ze(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qe(e))||E.test(e)||!C.test(e)||null!=t&&e in Object(t)}function Fe(e){return e==e&&!Ke(e)}function qe(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(ae&&Ne(new ae(new ArrayBuffer(1)))!=P||le&&Ne(new le)!=g||ue&&"[object Promise]"!=Ne(ue.resolve())||ce&&Ne(new ce)!=_||he&&"[object WeakMap]"!=Ne(new he))&&(Ne=function(e){var t=ee.call(e),n=t==m?e.constructor:void 0,i=n?ze(n):void 0;if(i)switch(i){case fe:return P;case pe:return g;case ge:return"[object Promise]";case ve:return _;case me:return"[object WeakMap]"}return t});var He=Be(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Qe(e))return be?be.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var n=[];return T.test(e)&&n.push(""),e.replace(j,function(e,t,i,o){n.push(i?o.replace(S,"$1"):t||e)}),n});function Ve(e){if("string"==typeof e||Qe(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function ze(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s),s};return n.cache=new(Be.Cache||Pe),n}function We(e,t){return e===t||e!=e&&t!=t}function Ue(e){return function(e){return Xe(e)&&Ge(e)}(e)&&J.call(e,"callee")&&(!oe.call(e,"callee")||ee.call(e)==l)}Be.Cache=Pe;var Ze=Array.isArray;function Ge(e){return null!=e&&$e(e.length)&&!Ye(e)}function Ye(e){var t=Ke(e)?ee.call(e):"";return t==f||t==p}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return!!e&&"object"==typeof e}function Qe(e){return"symbol"==typeof e||Xe(e)&&ee.call(e)==w}var Je=q?function(e){return function(t){return e(t)}}(q):function(e){return Xe(e)&&$e(e.length)&&!!D[ee.call(e)]};function et(e){return Ge(e)?function(e,t){var n=Ze(e)||Ue(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,o=!!i;for(var r in e)!J.call(e,r)||o&&("length"==r||Re(r,i))||n.push(r);return n}(e):function(e){if((t=e)!==("function"==typeof(n=t&&t.constructor)&&n.prototype||$))return se(e);var t,n,i=[];for(var o in Object(e))J.call(e,o)&&"constructor"!=o&&i.push(o);return i}(e)}function tt(e){return e}n.exports=function(e,t){return e&&e.length?function(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],s=t(r);if(null!=s&&(void 0===a?s==s&&!Qe(s):n(s,a)))var a=s,l=r}return l}(e,"function"==typeof(n=t)?n:null==n?tt:"object"==typeof n?Ze(n)?function(e,t){return Me(e)&&Fe(t)?qe(Ve(e),t):function(n){var i=function(e,t,n){var i=null==e?void 0:je(e,t);return void 0===i?void 0:i}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,n){for(var i,o=-1,r=(t=Me(t,e)?[t]:De(t)).length;++o<r;){var s=Ve(t[o]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||!!(r=e?e.length:0)&&$e(r)&&Re(s,r)&&(Ze(e)||Ue(e))}(e,t,ke)}(n,e):Ie(t,i,void 0,o|r)}}(n[0],n[1]):1==(s=function(e){for(var t=et(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,Fe(o)]}return t}(i=n)).length&&s[0][2]?qe(s[0][0],s[0][1]):function(e){return e===i||function(e,t,n,i){var s=n.length,a=s;if(null==e)return!a;for(e=Object(e);s--;){var l=n[s];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var u=(l=n[s])[0],c=e[u],h=l[1];if(l[2]){if(void 0===c&&!(u in e))return!1}else{var d=new Ee;if(!Ie(h,c,void 0,o|r,d))return!1}}return!0}(e,0,s)}:Me(a=n)?(l=Ve(a),function(e){return null==e?void 0:e[l]}):function(e){return function(t){return je(t,e)}}(a),Se):void 0;var n,i,s,a,l}}).call(t,function(){return this}(),n(20)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){var i=n(8);function o(e,t){this.page=e,this._viewerCore=t,this._innerElement=t.getSettings().innerElement,this._pageToolsElem=null}e.exports=o,o.prototype.mount=function(){if(null===this._pageToolsElem){var e=this._initializePageToolButtons();this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},e))}this.refresh(),this._innerElement.appendChild(this._pageToolsElem)},o.prototype._initializePageToolButtons=function(){var e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(function(o){var r=o.titleText||o.pluginName[0].toUpperCase()+o.pluginName.substring(1)+" plugin",s=i("div",{class:"diva-"+o.pluginName+"-icon",title:r});return s.addEventListener("click",function(i){o.handleClick.call(this,i,e,t,n)},!1),s.addEventListener("touchend",function(i){i.preventDefault(),o.handleClick.call(this,i,e,t,n)},!1),s},this)},o.prototype.unmount=function(){this._innerElement.removeChild(this._pageToolsElem)},o.prototype.refresh=function(){var e=this._viewerCore.getPageRegion(this.page,{excludePadding:!0,incorporateViewport:!0});this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left+"px"}},function(e,t,n){var i=n(19);function o(e){this._viewerCore=e}e.exports=o,o.prototype.onDoubleClick=function(e,t){var n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),o=this._viewerCore.getViewport(),r=i.getPageToViewportCenterOffset(n.anchorPage,o);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:r.x+n.offset.left,verticalOffset:r.y+n.offset.top})},o.prototype.onPinch=function(){this._viewerCore.reload({inGrid:!1})},o.prototype.onViewWillLoad=function(){},o.prototype.onViewDidLoad=function(){},o.prototype.onViewDidUpdate=function(e,t){if(null===t){var n=this._viewerCore.getCurrentLayout(),o=[];e.forEach(function(e){var t=n.getPageInfo(e).group;0!==o.length&&t===o[o.length-1]||o.push(t)});var r,s=this._viewerCore.getViewport();r=1===o.length||o[0].region.top>=s.top?o[0]:o[1].region.bottom<=s.bottom?o[1]:function(e,t){var n=t.top+t.height/2;return i(e,function(e){return-Math.abs(n-(e.region.top+e.dimensions.height/2))})}(o,s);var a=this._viewerCore.getSettings().currentPageIndex;r.pages.some(function(e){return e.index===a})||this._viewerCore.setCurrentPage(r.pages[0].index)}else this._viewerCore.setCurrentPage(t)},o.prototype.destroy=function(){}},function(e,t){function n(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}e.exports=n,n.prototype.addOverlay=function(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()},n.prototype.removeOverlay=function(e){var t=e.page,n=this._pages[t];if(n){var i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}},n.prototype.updateOverlays=function(e){var t=this._renderedPages,n={};e.forEach(function(e){n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,function(e){e.mount()}))},this),t.forEach(function(e){n[e]?this._invokeOnOverlays(e,function(e){e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,function(e){e.unmount()}))},this),this._renderedPages=e},n.prototype._invokeOnOverlays=function(e,t){var n=this._pages[e];n&&n.forEach(t,this)}},function(e,t,n){"use strict";var i=n(25)("diva:Renderer"),o=n(25)("diva:Renderer:paints"),r=n(8),s=n(29),a=n(30),l=n(31),u=n(32),c=n(33);function h(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._hooks=t||{},this._canvas=r("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new l,this._pendingRequests={}}function d(e,t){var n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function f(e,t){if(e===t)return{added:[],removed:[]};var n=e.filter(function(e){return-1===t.indexOf(e)});return{added:t.filter(function(t){return-1===e.indexOf(t)}),removed:n}}e.exports=h,h.getCompatibilityErrors=function(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",r("pre","canvas")," element. Please upgrade your browser."]},h.prototype.load=function(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width!==this._viewport.width||this._canvas.height!==this._viewport.height?(i("Canvas dimension change: (%s, %s) -> (%s, %s)",this._canvas.width,this._canvas.height,this._viewport.width,this._viewport.height),this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height):i("Reload, no size change"),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()},h.prototype._setViewportPosition=function(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)},h.prototype._setLayoutToZoomLevel=function(e){this.layout=new a(this._config,e),this._zoomLevel=e,r.setAttributes(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)},h.prototype.adjust=function(e){this._clearAnimation(),this._render(e),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)},h.prototype._render=function(e){var t=[];this.layout.pageGroups.forEach(function(e){if(this._viewport.intersectsRegion(e.region)){var n=e.pages.filter(function(e){return this.isPageVisible(e.index)},this).map(function(e){return e.index});t.push.apply(t,n)}},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(t),t.forEach(function(e){if(!this._compositeImages[e]){var t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new s(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(t);var n=f(this._renderedPages||[],t);n.removed.forEach(function(e){delete this._compositeImages[e]},this),this._renderedPages=t,this._paint(),this._hooks.onPageWillLoad&&n.added.forEach(function(e){this._hooks.onPageWillLoad(e)},this)},h.prototype._paint=function(){i("Repainting");var e=[];this._renderedPages.forEach(function(t){this._compositeImages[t].getTiles(this._zoomLevel).forEach(function(n){var i=d(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))},this)},this);var t=this._cache,n=f(this._renderedTiles||[],e);n.added.forEach(function(e){t.acquire(e)}),n.removed.forEach(function(e){t.release(e)}),n.removed&&this._renderedPages.forEach(function(e){this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e},h.prototype._paintOutline=function(e){e.forEach(function(e){var t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),o=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),r=n.left-this._viewport.left+i,s=n.top-this._viewport.top+o,a=r<0?-r:0,l=s<0?-s:0,u=Math.max(0,r),c=Math.max(0,s),h=t.dimensions.width-a,d=t.dimensions.height-l;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(u+.5,c+.5,h,d)},this)},h.prototype._initiateTileRequests=function(e){for(var t={},n=(function(e,n){var i=this._compositeImages[n];t[e.url]=new u({url:e.url,timeoutTime:250,load:(function(t){delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]&&(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)?this._paint():o("Page %s, tile %s no longer visible on image load",n,e.url))}).bind(this),error:(function(){delete this._pendingRequests[e.url]}).bind(this)})}).bind(this),i=0;i<e.length;i++)for(var r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles,a=0;a<s.length;a++){var l=s[a];!this._cache.has(l.url)&&this._isTileForSourceVisible(r,l)&&(this._pendingRequests[l.url]?(t[l.url]=this._pendingRequests[l.url],delete this._pendingRequests[l.url]):n(l,r))}for(var c in this._pendingRequests)this._pendingRequests[c].abort();this._pendingRequests=t},h.prototype._drawTile=function(e,t,n){var i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),a=i.left-this._viewport.left+r,l=i.top-this._viewport.top+s,u=a<0?-a:0,c=l<0?-l:0,h=u/t.scaleRatio,d=c/t.scaleRatio,f=Math.max(0,a),p=Math.max(0,l),g=Math.min(t.dimensions.width,n.width*t.scaleRatio)-u,v=Math.min(t.dimensions.height,n.height*t.scaleRatio)-c,m=g/t.scaleRatio,y=v/t.scaleRatio;o.enabled&&o("Drawing page %s, tile %sx (%s, %s) from %s, %s to viewport at %s, %s, scale %s%%",e,t.sourceZoomLevel,t.row,t.col,h,d,f,p,Math.round(100*t.scaleRatio)),this._ctx.drawImage(n,h,d,m,y,f,p,g,v)},h.prototype._isTileForSourceVisible=function(e,t){return this._isTileVisible(e,d(t,this._zoomLevel))},h.prototype._isTileVisible=function(e,t){var n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})},h.prototype._getTileToDocumentOffset=function(e,t){var n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}},h.prototype._getImageOffset=function(e){return this.layout.getPageOffset(e,{excludePadding:!0})},h.prototype.goto=function(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)},h.prototype._goto=function(e,t,n){var i=this.layout.getPageOffset(e),o=i.top+t-parseInt(this._viewport.height/2,10),r=i.left+n-parseInt(this._viewport.width/2,10);this._viewport.top=o,this._viewport.left=r,this._render(0)},h.prototype.transitionViewportPosition=function(e){this._clearAnimation();var t=e.getPosition,n=this,i=this._hooks.onViewDidTransition;this._animation=c.animate({duration:e.duration,parameters:e.parameters,onUpdate:function(e){n._setViewportPosition(t(e)),i&&i()},onEnd:function(t){e.onEnd&&e.onEnd(t),n._hooks.onViewDidUpdate&&!t.interrupted&&n._hooks.onViewDidUpdate(n._renderedPages.slice(),null)}})},h.prototype._clearAnimation=function(){this._animation&&(this._animation.cancel(),this._animation=null)},h.prototype.preload=function(){},h.prototype.isPageVisible=function(e){return!!this.layout&&!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))},h.prototype.getRenderedPages=function(){return this._renderedPages.slice()},h.prototype.destroy=function(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(function(e){var t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}},function(e,t,n){(function(i){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(27)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var o=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++o)}),e.splice(r,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(t,n(26))},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var i;function o(e){function n(){if(n.enabled){var e=n,o=+new Date;e.diff=o-(i||o),e.prev=i,e.curr=o,i=o;for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var a=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;a++;var o=t.formatters[i];return"function"==typeof o&&(n=o.call(e,r[a]),r.splice(a,1),a--),n}),t.formatArgs.call(e,r),(n.log||t.log||console.log.bind(console)).apply(e,r)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=(e||"").split(/[\s,]+/),i=n.length,o=0;o<i;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(28),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,i=6e4,o=36e5,r=24*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(a=e,r,"day")||s(a,o,"hour")||s(a,i,"minute")||s(a,n,"second")||a+" ms":function(e){return e>=r?Math.round(e/r)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(e){this._levels=e;var t=this._urlsToTiles={};e.forEach(function(e){e.tiles.forEach(function(n){t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}function i(e,t){this._rows=e,this._cols=t,this._map=o(e).map(function(){return o(t,!1)})}function o(e,t){for(var n=new Array(e),i=0;i<e;i++)n[i]=t;return n}e.exports=n,n.prototype.clear=function(){var e=this._loadedByLevel={};this._levels.forEach(function(t){e[t.zoomLevel]=new i(t.rows,t.cols)})},n.prototype.getTiles=function(e){var t,n=[],o=this._levels[0].zoomLevel,r=new i(this._levels[0].rows,this._levels[0].cols);if(null===e)t=0;else{var s=Math.ceil(e);t=function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].zoomLevel<=s)return i;return-1}(this._levels)}this._levels.slice(0,t+1).reverse().concat(this._levels.slice(t+1)).forEach(function(e){var t=this._loadedByLevel[e.zoomLevel],i=e.tiles.filter(function(e){return t.isLoaded(e.row,e.col)}),s=Math.pow(2,o-e.zoomLevel);i=i.filter(function(e){for(var t=!1,n=e.row*s,i=e.col*s,o=0;o<s;o++)for(var a=0;a<s;a++)r.isLoaded(n+o,i+a)||(t=!0,r.set(n+o,i+a,!0));return t}),n.push(i)},this),n.reverse();var a=[];return n.forEach(function(e){a.push.apply(a,e)}),a},n.prototype.updateFromCache=function(e){this.clear(),this._levels.forEach(function(t){var n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(function(t){e.has(t.url)&&n.set(t.row,t.col,!0)})},this)},n.prototype.updateWithLoadedUrls=function(e){e.forEach(function(e){var t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)},i.prototype.isLoaded=function(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]},i.prototype.set=function(e,t,n){this._map[e][t]=n}},function(e,t){function n(e,t){var n,i=function(e,t){var n,i,r=null===t?e.pageLayouts:function(e,t){var n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(function(e){return{dimensions:o(e.dimensions,n),pages:e.pages.map(function(e){return{index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:o(e.dimensions,n)}})}})}(e,t),s=function(e,t){var n,i,o=e.padding.document;return e.verticallyOriented?(n="width",i=o.left+o.right):(n="height",i=o.top+o.bottom),i+t.reduce(function(e,t){return Math.max(t.dimensions[n],e)},0)}(e,r),a=e.verticallyOriented?e.padding.document.top:e.padding.document.left,l=[],u={top:e.padding.page.top,left:e.padding.page.left};return r.forEach(function(t,n){var i,o;e.verticallyOriented?(i=a,o=(s-t.dimensions.width)/2):(i=(s-t.dimensions.height)/2,o=a);var r={top:i,bottom:i+u.top+t.dimensions.height,left:o,right:o+u.left+t.dimensions.width};l.push({index:n,dimensions:t.dimensions,pages:t.pages,region:r,padding:u}),a=e.verticallyOriented?r.bottom:r.right}),e.verticallyOriented?(n=a+u.top,i=s):(n=s,i=a+u.left),{dimensions:{height:n,width:i},pageGroups:l}}(e,t);this.dimensions=i.dimensions,this.pageGroups=i.pageGroups,this._pageLookup=(n={},i.pageGroups.forEach(function(e){e.pages.forEach(function(t){n[t.index]={index:t.index,group:e,dimensions:t.dimensions,groupOffset:t.groupOffset}})}),n)}function i(e){var t=e.groupOffset.top+e.group.region.top,n=e.groupOffset.left+e.group.region.left;return{top:t,bottom:t+e.dimensions.height,left:n,right:n+e.dimensions.width}}function o(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}e.exports=n,n.prototype.getPageInfo=function(e){return this._pageLookup[e]||null},n.prototype.getPageDimensions=function(e){if(!this._pageLookup||!this._pageLookup[e])return null;var t=i(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}},n.prototype.getPageOffset=function(e,t){var n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null},n.prototype.getPageRegion=function(e,t){var n=this._pageLookup[e];if(!n)return null;var o=i(n);if(t&&t.excludePadding){var r=n.group.padding;return{top:o.top+r.top,left:o.left+r.left,bottom:o.bottom,right:o.right}}return o},n.prototype.getPageToViewportCenterOffset=function(e,t){var n=t.left,i=t.right-t.left,o=this.getPageOffset(e);return{x:n-o.left+parseInt(i/2,10),y:t.top-o.top+parseInt((t.bottom-t.top)/2,10)}}},function(e,t,n){"use strict";var i=n(25)("diva:ImageCache");e.exports=r;var o=100;function r(e){this.maxKeys=(e=e||{maxKeys:o}).maxKeys||o,this._held={},this._urls={},this._lru=[]}r.prototype.get=function(e){var t=this._urls[e];return t?t.img:null},r.prototype.has=function(e){return!!this._urls[e]},r.prototype.put=function(e,t){var n=this._urls[e];n?(n.img=t,this._promote(n)):(this._urls[e]=n={img:t,url:e},this._tryEvict(1),this._lru.unshift(n))},r.prototype._promote=function(e){var t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)},r.prototype._tryEvict=function(e){var t=this.maxKeys-e;if(!(this._lru.length<=t))for(var n=this._lru.length-1;;){var o=this._lru[n];if(!this._held[o.url]&&(i("Evicting image %s",o.url),this._lru.splice(n,1),delete this._urls[o.url],this._lru.length<=t))break;if(0===n){i.enabled&&i("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}},r.prototype.acquire=function(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])},r.prototype.release=function(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}},function(e,t,n){var i=n(25)("diva:ImageRequestHandler");function o(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this.timeout=setTimeout((function(){this._image=new Image,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url,i("Requesting image %s",e.url)}).bind(this),this.timeoutTime)}e.exports=o,o.prototype.abort=function(){i("Aborting request to %s",this._url),clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0},o.prototype._handleLoad=function(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,i("Received image %s",this._url),this._callback(this._image))},o.prototype._handleError=function(){i("Failed to load image %s",this._url),this._errorCallback(this._image)}},function(e,t){function n(e){return e}var i;e.exports={animate:function(e){var t=e.duration,o=e.parameters,r=e.onUpdate,s=e.onEnd,a=i(),l=a+t,u={},c={},h=Object.keys(o);h.forEach(function(e){var t,i,r,s=o[e];u[e]=(t=s.from,i=s.to,r=s.easing||n,function(e){return t+(i-t)*r(e)})});var d=requestAnimationFrame(function e(){var n=i();!function(e){h.forEach(function(t){c[t]=u[t](e)})}(Math.min((n-a)/t,1)),r(c),n<l?d=requestAnimationFrame(e):f({interrupted:!1})});return{cancel:function(){null!==d&&(cancelAnimationFrame(d),f({interrupted:!0}))}};function f(e){d=null,s&&s(e)}},easing:{linear:n}},i="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return Date.now()}},function(e,t,n){var i=n(35),o=n(37),r=n(38);function s(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}e.exports=function(e){if(e.inGrid)return r(s(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));var t=s(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?i(t):o(t)}},function(e,t,n){var i=n(36);e.exports=function(e){return function(e){var t=e.manifest,n=[],o=null,r=[],s=function(){for(var e=0;e<r.length;e++)n.push([r[e]]);r=[]};return t.pages.forEach(function(a,l){var u={index:l,dimensions:i(l,t),paged:!t.paged||a.paged};(e.showNonPagedPages||u.paged)&&(u.paged?0===l||a.facingPages?(n.push([u]),s()):null===o?o=u:(n.push([o,u]),o=null,s()):r.push(u))}),null!==o&&(n.push([o]),s()),n}(e).map(function(t){return function(e,t){var n=e.verticallyOriented;if(2===t.length)return function(e,t,n){var i,o,r,s=e.dimensions,a=t.dimensions,l=Math.max(s.height,a.height);if(n){var u=Math.max(s.width,a.width);i=2*u,o=u-s.width,r=u}else i=s.width+a.width,o=0,r=s.width;return{dimensions:{height:l,width:i},pages:[{index:e.index,dimensions:s,groupOffset:{top:0,left:o}},{index:t.index,dimensions:a,groupOffset:{top:0,left:r}}]}}(t[0],t[1],n);var i=t[0],o=i.dimensions;return{dimensions:{height:o.height,width:n&&!e.manifest.pages[i.index].facingPages?2*o.width:o.width},pages:[{index:i.index,groupOffset:{top:0,left:i.paged?0===i.index&&n?o.width:0:n?o.width/2:0},dimensions:o}]}}(e,t)})}},function(e,t){e.exports=function(e,t){var n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}},function(e,t,n){var i=n(36);e.exports=function(e){var t=e.manifest,n=[];return t.pages.forEach(function(o,r){if(e.showNonPagedPages||!t.paged||o.paged){var s=i(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}}),n}},function(e,t){e.exports=function(e){var t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,o=e.fixedHeightGrid,r=e.fixedPadding,s=e.showNonPagedPages,a=(t-r*(i+1))/i,l=a,u=o?r+n.minRatio*a:r+n.maxRatio*a,c=[],h=[],d={height:u,width:t};return n.pages.forEach(function(e,t){if(s||!n.paged||e.paged){var a=(y=(m=(p=e).d[p.d.length-1]).h/m.w,o?(g=(u-r)/y,v=u-r):v=(g=l)*y,{width:Math.round(g),height:Math.round(v)}),f=Math.floor(h.length*(r+l)+r);o&&(f+=(l-a.width)/2),h.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),h.length===i&&(c.push({dimensions:d,pages:h}),h=[])}var p,g,v,m,y}),h.length>0&&c.push({dimensions:d,pages:h}),c}},function(e,t){e.exports=function(e){var t={};return e.forEach(function(e){!function(e,t){Object.keys(t).forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(){throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}},function(e,t,n){var i=n(3).extend;function o(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}function r(e,t,n){var i={proxy:{},index:null},o=(function(e,t,n){return n in t?t[n]:e[n]}).bind(null,e,t),r={};return n.whitelistedKeys.forEach(function(e){r[e]={get:o.bind(null,e)}}),n.additionalProperties.forEach(function(e){r[e.key]={get:e.get}}),n.validations.forEach(function(e,t){r[e.key]={get:function(){if(t<i.index)return o(e.key);throw new TypeError("Cannot access setting "+e.key+" while validating "+n.validations[i.index].key)}}}),Object.defineProperties(i.proxy,r),i}e.exports=o,o.prototype.isValid=function(e,t,n){var i=null;if(this.validations.some(function(t,n){return t.key===e&&(i=n,!0)}),null===i)return!0;var o={};o[e]=t;var s=r(n,o,this);return!this._runValidation(i,t,s)},o.prototype.validate=function(e){this._validateOptions({},e)},o.prototype.getValidatedOptions=function(e,t){var n=i({},t);return this._validateOptions(e,n),n},o.prototype._validateOptions=function(e,t){var n=r(e,t,this);this._applyValidations(t,n)},o.prototype._applyValidations=function(e,t){this.validations.forEach(function(n,i){if(e.hasOwnProperty(n.key)){var o=e[n.key],r=this._runValidation(i,o,t);r&&(r.warningSuppressed||function(e,t,i){console.warn("Invalid value for "+n.key+": "+o+". Using "+i+" instead.")}(0,0,r.value),e[n.key]=r.value)}},this)},o.prototype._runValidation=function(e,t,n){var i=this.validations[e];n.index=e;var o=!1,r=i.validate(t,n.proxy,{suppressWarning:function(){o=!0}});return void 0===r||r===t?null:{value:r,warningSuppressed:o}}},function(e,t){function n(e,t){this.intersectionTolerance=(t=t||{}).intersectionTolerance||0,this.maxExtent=t.maxExtent||2e3,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}function i(e,t){var n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){var o;o=this._innerDimensions?s(e,0,this._innerDimensions[t]-this[t]):a(e,0),this[n]=this.outer[i]=o}}}function o(e){return{get:function(){return this["_"+e]}}}function r(e,t,n){return e>=t&&e<=n}function s(e,t,n){return a(l(e,n),t)}function a(e,t){return Math.max(e,t)}function l(e,t){return Math.min(e,t)}e.exports=n,n.prototype.intersectsRegion=function(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)},n.prototype.hasVerticalOverlap=function(e){var t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return r(e.top,t,n)||r(e.bottom,t,n)||e.top<=t&&e.bottom>=n},n.prototype.hasHorizontalOverlap=function(e){var t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return r(e.left,t,n)||r(e.right,t,n)||e.left<=t&&e.right>=n},n.prototype.invalidate=function(){this._width=l(this.outer.clientWidth,this.maxExtent),this._height=l(this.outer.clientHeight,this.maxExtent),this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft},n.prototype.setInnerDimensions=function(e){this._innerDimensions=e,e&&(this._top=s(this._top,0,e.height-this._height),this._left=s(this._left,0,e.width-this._width))},Object.defineProperties(n.prototype,{top:i("top","height"),left:i("left","width"),width:o("width"),height:o("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}})},function(e,t,n){var i,o,r,s,a,l,u,c,h,d,f,p,g,v,m,y,_,b,w,x,P,C,E,T,j,S=n(3),k=n(7);n(15),i=S,e.exports=(a={},l={},u={},c={brightnessMax:150,brightnessMin:-100,brightnessStep:1,contrastMax:3,contrastMin:-1,contrastStep:.05,localStoragePrefix:"canvas-",mobileWebkitMaxZoom:2,rgbMax:50,rgbMin:-50,throbberFadeSpeed:200,throbberTimeout:100,buttons:["contrast","brightness","rotation","zoom"]},h=function(e){return e*Math.PI/180},d=function(e,t){var n=e.context,i=e.size/2,r=-e.width/2,s=-e.height/2;n.clearRect(0,0,e.size,e.size),n.save(),n.translate(i,i),n.rotate(h(t)),n.drawImage(o,r,s,e.width,e.height),n.restore(),e.data=n.getImageData(0,0,e.size,e.size)},f=function(){var e;for(e in r)if(r[e].current!==r[e].previous)return!0;return!1},p=function(){d(l,r.rotation.current),m(l)},g=function(){var e=r.rotation.current,t=r.zoom.current,n=r.zoom.previous;if(e!==r.rotation.previous||t!==n){var o=i("#diva-canvas-wrapper").scrollLeft(),s=i("#diva-canvas-wrapper").scrollTop(),l=u.viewport.width/2,c=u.viewport.height/2,p=function(e,t){var n=e.x-a.centerX,i=-(e.y-a.centerY),o=h(r.rotation.previous-t);return{x:Math.cos(o)*n-Math.sin(o)*i+a.centerX,y:-(Math.sin(o)*n+Math.cos(o)*i)+a.centerY}}({x:o+l,y:s+c},e),g=Math.pow(2,t-n),v=g*p.x-l,y=g*p.y-c;d(a,e),i("#diva-canvas-wrapper").scrollLeft(v),i("#diva-canvas-wrapper").scrollTop(y)}f()&&(m(a),function(){var e;for(e in r)r[e].previous=r[e].current}())},v=function(e){return r[e].current!==r[e].previous||r[e].current!==r[e].initial},m=function(e){var t,n,i,o,s,a,l,c,h=function(e){var t,n,i=e.data,o=e.context.createImageData(i),r=o.data;for(t=0,n=r.length;t<n;t++)r[t]=i.data[t];return o}(e),d=h.data,f=r.contrast.current,p=(1+Math.min(u.brightnessMax,Math.max(u.brightnessMin,r.brightness.current))/u.brightnessMax)*f,g=128-128*f,m=r.red.current,y=r.green.current,_=r.blue.current,b=v("red"),w=v("green"),x=v("blue"),P=v("brightness"),C=v("contrast"),E=P||C;for(t=0,i=h.width;t<i;t++)for(n=0,o=h.height;n<o;n++)(a=d[s=4*(n*i+t)])+(l=d[s+1])+(c=d[s+2])>0&&(b&&a&&(a+=m),w&&l&&(l+=y),x&&c&&(c+=_),E&&(a&&(a=a*p+g),l&&(l=l*p+g),c&&(c=c*p+g)),d[s]=a,d[s+1]=l,d[s+2]=c);e.context.clearRect(0,0,i,o),e.context.putImageData(h,0,0)},y=function(){var e=i("#diva-canvas-wrapper").scrollLeft()*l.scaleFactor,t=i("#diva-canvas-wrapper").scrollTop()*l.scaleFactor,n=Math.min(Math.round(u.viewport.height*l.scaleFactor),u.mapSize)-4,o=Math.min(Math.round(u.viewport.width*l.scaleFactor),u.mapSize)-4;i("#diva-map-viewbox").height(n).width(o).css({top:t,left:e})},_=function(e,t){(o=new Image).crossOrigin="anonymous",o.onload=function(){a.size=Math.sqrt(o.width*o.width+o.height*o.height),a.canvas=document.getElementById("diva-canvas"),a.canvas.width=a.size,a.canvas.height=a.size,a.cornerX=(a.size-o.width)/2,a.cornerY=(a.size-o.height)/2,a.width=o.width,a.height=o.height,a.centerX=a.size/2,a.centerY=a.size/2,a.context=a.canvas.getContext("2d"),a.context.drawImage(o,a.cornerX,a.cornerY,a.width,a.height);try{a.data=a.context.getImageData(0,0,a.size,a.size)}catch(t){var e='<div id="diva-error" class="diva-error"><p><strong>Error</strong></p><p>'+t.message+"</p>";if("SecurityError"!==t.name)throw t;e+='<p>You may need to update your server configuration in order to use the image manipulation tools. For help, see the <a href="https://github.com/DDMAL/diva.js/wiki/The-API-and-Plugins#a-note-about-canvas-and-cross-site-data" target="_blank">canvas cross-site data documentation</a>.</p></div>',e+="</div>",i("#diva-canvas-backdrop").append(e),C()}void 0===t&&function(e){l.canvas=document.getElementById("diva-canvas-minimap"),l.size=u.mapSize,l.canvas.width=l.size,l.canvas.height=l.size,l.context=l.canvas.getContext("2d"),l.context.fillRect(0,0,l.size,l.size),l.scaleFactor=u.mapSize/a.size,l.cornerX=a.cornerX*l.scaleFactor,l.cornerY=a.cornerY*l.scaleFactor,l.width=e.width*l.scaleFactor,l.height=e.height*l.scaleFactor,l.context.drawImage(e,l.cornerX,l.cornerY,l.width,l.height),l.data=l.context.getImageData(0,0,u.mapSize,u.mapSize),i("#diva-map-viewbox").show(),y()}(o),p(),g(),C(),"function"==typeof t&&t.call(t)},o.src=e,(o.complete||void 0===o.complete)&&(o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",o.src=e)},b=function(){var e=r[s],t=e.current,n=e.transform?e.transform(t):t;i("#diva-canvas-value").html(n)},w=function(){i("#diva-canvas-slider").val(r[s].current)},x=function(e){var t=u.zoomWidthRatio*Math.pow(2,e);return u.divaInstance.getPageImageURL(u.selectedPageIndex,{width:t})},P=function(){(r.zoom.current>0||u.mobileWebkit)&&i(u.selector+"throbber").addClass("canvas-throbber").show()},C=function(){i(u.selector+"throbber").removeClass("canvas-throbber").hide()},E=function(){var e,t={},n=!1,i=u.localStoragePrefix+u.filename;for(e in r)r[e].previous!==r[e].initial&&(t[e]=r[e].previous,n=!0);n?(u.pluginIcon.addClass("new"),j(i,t)):(u.pluginIcon.removeClass("new"),localStorage.removeItem(i))},T=function(e){switch(e.keyCode){case 38:return i("#diva-canvas-wrapper").scrollTop(document.getElementById("diva-canvas-wrapper").scrollTop-u.arrowScrollAmount),!1;case 40:return i("#diva-canvas-wrapper").scrollTop(document.getElementById("diva-canvas-wrapper").scrollTop+u.arrowScrollAmount),!1;case 37:return i("#diva-canvas-wrapper").scrollLeft(document.getElementById("diva-canvas-wrapper").scrollLeft-u.arrowScrollAmount),!1;case 39:return i("#diva-canvas-wrapper").scrollLeft(document.getElementById("diva-canvas-wrapper").scrollLeft+u.arrowScrollAmount),!1}},j=function(e,t){localStorage.setItem(e,JSON.stringify(t))},{init:function(e,t){if(!window.HTMLCanvasElement)return!1;i.extend(u,c,e.canvasPlugin),u.divaInstance=t,u.inCanvas=!1,u.iipServerURL=e.iipServerURL,u.imageDir=e.imageDir,u.selector=e.selector,u.mobileWebkit=e.mobileWebkit,u.arrowScrollAmount=e.arrowScrollAmount,r={contrast:{initial:1,min:u.contrastMin,max:u.contrastMax,step:u.contrastStep,transform:function(e){return e.toFixed(2)},title:"Change the contrast"},brightness:{initial:0,min:u.brightnessMin,max:u.brightnessMax,step:u.brightnessStep,title:"Adjust the brightness"},rotation:{initial:0,min:0,max:359,step:1,transform:function(e){return e+"&deg;"},title:"Rotate the image"},zoom:{initial:0,min:0,max:0,step:1,title:"Adjust the zoom level"},red:{initial:0,min:u.rgbMin,max:u.rgbMax,step:1,title:"Adjust the red channel"},green:{initial:0,min:u.rgbMin,max:u.rgbMax,step:1,title:"Adjust the green channel"},blue:{initial:0,min:u.rgbMin,max:u.rgbMax,step:1,title:"Adjust the blue channel"}};var n=function(){var e,t,n;for(n in r)(t=r[n]).current=e=t.initial,t.previous=e};if(n(),i("#diva-canvas-backdrop").length)return!0;var o,h,d=[];for(h in u.buttons)d.push('<div class="'+(o=u.buttons[h])+'" title="'+r[o].title+'"></div>');var v='<div id="diva-canvas-backdrop"><div id="diva-canvas-tools"><div id="diva-canvas-toolbar"><div id="diva-canvas-close" title="Return to the document viewer"></div><div id="diva-canvas-minimise" title="Minimise the toolbar"></div><span id="diva-canvas-info">Test</span></div><div id="diva-canvas-toolwindow"><div id="diva-map-viewbox"></div><canvas id="diva-canvas-minimap"></canvas><div id="diva-canvas-buttons">'+d.join("")+'</div><div id="diva-canvas-pane"><p id="diva-canvas-tooltip"><span id="diva-canvas-mode">contrast</span>: <span id="diva-canvas-value">0</span> <span id="diva-canvas-reset" class="link">(Reset)</span></p><input type="range" id="diva-canvas-slider"></input></div><br /><div class="action-buttons"><a href="#" id="diva-canvas-reset-all">Reset all</a><a href="#" id="diva-canvas-apply">Apply</a></div></div></div><div id="diva-canvas-wrapper"><canvas id="diva-canvas"></canvas></div></div>';i("body").append(v),u.mapSize=i("#diva-canvas-minimap").width(),i("#diva-canvas-buttons div").click(function(){i("#diva-canvas-buttons .clicked").removeClass("clicked"),m(i(this).attr("class"))});var m=function(e){var t=r[s=e];i("#diva-canvas-buttons ."+s).addClass("clicked"),i("#diva-canvas-mode").text(s);var n=t.current,o=t.transform?t.transform(n):n,a=document.getElementById("diva-canvas-slider");a.min=t.min,a.max=t.max,a.step=t.step,i("#diva-canvas-slider").val(n),i("#diva-canvas-value").html(o)};return m("contrast"),i("#diva-canvas-slider").on("input",function(e){r[s].current=parseFloat(this.value),b(),p()}),i("#diva-canvas-reset-all").click(function(){var e;for(e in r)r[e].current=r[e].initial;b(),w(),p()}),i("#diva-canvas-reset").click(function(){r[s].current=r[s].initial,b(),w(),p()}),i("#diva-canvas-apply").click(function(){f()&&(P(),setTimeout(function(){r.zoom.current!==r.zoom.previous?function(e,t){u.zoomLevel=e;var n=x(e);_(n,function(){l.scaleFactor=l.size/a.size,y(),E()})}(r.zoom.current):(g(),C(),E())},u.throbberTimeout))}),i("#diva-canvas-close").click(function(){i("body").removeClass("overflow-hidden"),a.context.clearRect(0,0,a.size,a.size),l.context.clearRect(0,0,l.size,l.size),i("#diva-canvas-wrapper").scrollTop(0).scrollLeft(0),i("#diva-canvas-backdrop").hide(),i("#diva-map-viewbox").hide(),C(),t.enableScrollable(),i(document).off("keydown",T),n(),b(),w(),i("#diva-canvas-buttons .clicked").removeClass("clicked"),m("contrast"),k.Events.publish("CanvasViewDidHide")}),i("#diva-canvas-minimise").click(function(){i("#diva-canvas-toolwindow").slideToggle("fast")}),i(window).resize(function(){u.viewport={height:window.innerHeight-e.scrollbarWidth,width:window.innerWidth-e.scrollbarWidth},u.inCanvas&&y()}),i("#diva-canvas-wrapper").scroll(function(){u.inCanvas&&y()}),i("#diva-canvas-minimap, #diva-map-viewbox").mouseup(function(e){var t=i("#diva-canvas-minimap").offset(),n=(e.pageX-t.left)/l.scaleFactor,o=(e.pageY-t.top)/l.scaleFactor;i("#diva-canvas-wrapper").scrollTop(o-u.viewport.height/2),i("#diva-canvas-wrapper").scrollLeft(n-u.viewport.width/2)}),i("#diva-canvas").mousedown(function(){i(this).addClass("grabbing")}).mouseup(function(){i(this).removeClass("grabbing")}),i("#diva-canvas-wrapper").kinetic(),i("#diva-canvas-wrapper").dragscrollable({acceptPropagatedEvent:!0}),k.Events.subscribe("ObjectDidLoad",this.setupHook,e.ID),k.Events.subscribe("ViewerDidTerminate",this.destroy,e.ID),k.Events.subscribe("PageDidLoad",this.onPageLoad,e.ID),!0},pluginName:"canvas",titleText:"View the image on a canvas and adjust various settings",setupHook:function(e){u.viewport={height:window.innerHeight-e.scrollbarWidth,width:window.innerWidth-e.scrollbarWidth},u.minZoomLevel=e.minZoomLevel,u.maxZoomLevel=e.maxZoomLevel,u.mobileWebkit&&(u.maxZoomLevel=Math.min(u.maxZoomLevel,u.mobileWebkitMaxZoom)),r.zoom.min=u.minZoomLevel,r.zoom.max=u.maxZoomLevel},handleClick:function(e,t,n,o){var a,l=n.getFilenames()[o],c=n.getPageDimensions(o).width-1,h=t.zoomLevel;u.zoomWidthRatio=c/Math.pow(2,h),u.pluginIcon=i(this),u.manifest=t.manifest,u.selectedPageIndex=o,u.mobileWebkit&&(h=Math.min(u.maxZoomLevel,h)),u.filename=l,r.zoom.initial=h,r.zoom.current=h;var d,f=(d=localStorage.getItem(u.localStoragePrefix+u.filename))&&JSON.parse(d);if(f)for(a in f)r[a].current=f[a],a===s&&(b(),w()),"zoom"===a&&(h=f[a]);r.zoom.previous=h,i("body").addClass("overflow-hidden"),i("#diva-canvas-backdrop").show(),n.disableScrollable(),i(document).keydown(T),u.inCanvas=!0;var p=x(h);i("#diva-canvas-info").text("Page "+(o+1)),P(),k.Events.publish("CanvasViewDidActivate",[o]),_(p)},onPageLoad:function(e,t,n){null!==localStorage.getItem(u.localStoragePrefix+t)&&i(n).find(".diva-canvas-icon").addClass("new")},destroy:function(e,t){i("#diva-canvas-backdrop").remove()}})},function(e,t,n){var i;n(3),e.exports=(i={},{init:function(e,t){return i.divaInstance=t,!0},pluginName:"download",titleText:"Download image at the given zoom level",handleClick:function(e,t,n,o){var r=n.getPageDimensions(o).width-1,s=i.divaInstance.getPageImageURL(o,{width:r});window.open(s)}})},function(e,t,n){n(3);var i=n(8),o=n(7);function r(e,t){this._divaInstance=e,this._overlays={},this._getCurrentHighlight=t}function s(e,t,n){this.page=e.page,this.highlight=e,this._highlightRegions=[],this._divaInstance=t,this._getCurrentHighlight=n}function a(e,t){return e/Math.pow(2,t)}function l(e,t){var n,i,o,r=e.getInstanceId()+"selected-highlight",s=document.getElementsByClassName(r);for(n=0;n<s.length;n++)(i=s[n]).id!==t.id&&(i.className=i.className.replace(" "+r,""),i.style.border="1px solid #555");if(e.isPageInViewport(t.page))for(o=document.querySelectorAll("*[data-highlight-id="+t.id+"]"),n=0;n<o.length;n++)(i=o[n]).className=i.className+" "+r,i.style.border="2px solid #000"}e.exports={init:function(e,t){var n,i=new r(t);e.parentObject.data("highlightManager",i),t.resetHighlights=function(){i.clear()},t.removeHighlightsOnPage=function(e){i.removeHighlightsOnPage(e)},t.highlightOnPages=function(e,n,i,o){for(var r=e.length;r--;)t.highlightOnPage(e[r],n[r],i,o)},t.highlightOnPage=function(t,n,o,r){return void 0===o&&(o="rgba(255, 0, 0, 0.2)"),r=void 0===r?e.ID+"highlight diva-highlight":e.ID+"highlight diva-highlight "+r,i.addHighlight({page:parseInt(t),regions:n,colour:o,divClass:r}),!0},t.gotoHighlight=function(e){var t=i.getHighlightByRegionId(e);return t?s(t.highlight.page,t.region):(console.warn("Diva just tried to find a highlight that doesn't exist."),!1)};var s=function(i,r){var s=parseFloat(r.uly)+parseFloat(r.height)/2,a=parseFloat(r.ulx)+parseFloat(r.width)/2,u=t.translateFromMaxZoomLevel(s),c=t.translateFromMaxZoomLevel(a);i=parseInt(i,10),t.gotoPageByIndex(i);var h=t.getSettings().viewportObject,d=h.scrollTop()+u-h.height()/2+e.verticalPadding,f=h.scrollLeft()+c-h.width()/2+e.horizontalPadding;return h.scrollTop(d),h.scrollLeft(f),o.Events.publish("SelectedHighlightChanged",[r.id,(n={region:r,page:i}).page]),l(t,n),r.id},a=function(n){return t.translateFromMaxZoomLevel(e.verticallyOriented?parseFloat(n.uly)+parseFloat(n.height)/2:parseFloat(n.ulx)+parseFloat(n.width)/2)},u=function(o){var r,l,u,c,h,d,f,p,g,v,m=!1;for(n?(u=n.page,l=a(n.region)):(l=0,u=0),h=(c=i.getHighlightRegions(u)).length,d=t.getPageDimensionsAtZoomLevel(u,t.getZoomLevel()),r=o?e.verticallyOriented?d.height:d.width:0,v=o?function(e,t,n){return e>t&&e<n}:function(e,t,n){return e<t&&e>n};h--;)v(f=a(g=c[h]),l,r)&&(m=!0,r=f,p=g);if(m)return s(u,p);var y,_=i.getHighlightedPages(),b=_.indexOf(u.toString());if(o)for(;!y||!t.isPageIndexValid(y);)y=b==_.length-1?_[0]:_[++b];else for(;!y||!t.isPageIndexValid(y);)y=0===b?_[_.length-1]:_[--b];for(h=(c=i.getHighlightRegions(y)).length,d=t.getPageDimensionsAtZoomLevel(y,t.getMaxZoomLevel()),r=o?e.verticallyOriented?d.height:d.width:0,v=o?function(e,t){return e<t}:function(e,t){return e>t};h--;)v(f=a(g=c[h]),r)&&(m=!0,r=f,p=g);return s(y,p)};return t.gotoNextHighlight=function(){return i.getHighlightCount()>0&&u(!0)},t.gotoPreviousHighlight=function(){return i.getHighlightCount()>0&&u(!1)},o.Events.subscribe("ViewerWillTerminate",this.destroy,e.ID),!0},destroy:function(e){e.parentObject.data("highlightManager").clear(),e.parentObject.removeData("highlightManager")},pluginName:"highlight",titleText:"Highlight regions of pages",HighlightManager:r},r.prototype.getHighlightCount=function(){var e=0;return Object.keys(this._overlays).forEach(function(t){e+=this._overlays[t].highlight.regions.length},this),e},r.prototype.getHighlightRegions=function(e){return this._overlays[e]?this._overlays[e].highlight.regions:[]},r.prototype.getHighlightedPages=function(){return Object.keys(this._overlays)},r.prototype.getHighlightByRegionId=function(e){for(var t in this._overlays)if(this._overlays.hasOwnProperty(t)){var n=this._overlays[t].highlight.regions;for(var i in n)if(n.hasOwnProperty(i)&&n[i].divID===e)return{highlight:this._overlays[t].highlight,region:n[i]}}return null},r.prototype.addHighlight=function(e){var t=this._overlays[e.page];t&&this._divaInstance.__removePageOverlay(t);var n=new s(e,this._divaInstance,this._getCurrentHighlight);this._overlays[e.page]=n,this._divaInstance.__addPageOverlay(n)},r.prototype.removeHighlightsOnPage=function(e){this._overlays[e]&&(this._divaInstance.__removePageOverlay(this._overlays[e]),delete this._overlays[e])},r.prototype.clear=function(){for(var e in this._overlays)this._overlays.hasOwnProperty(e)&&this._divaInstance.__removePageOverlay(this._overlays[e]);this._overlays={}},s.prototype.mount=function(){for(var e=this._divaInstance.getSettings(),t=this.highlight,n=t.regions,r=t.colour,s=t.divClass,a=n.length;a--;){var u=n[a],c=i("div",{class:s+(u.hasOwnProperty("classes")?" "+u.classes:""),style:{background:r,border:"1px solid #555",position:"absolute",zIndex:100}});if(u.hasOwnProperty("attrs"))for(let e in u.attrs)c.setAttribute(e,u.attrs[e]);void 0!==u.divID&&c.setAttribute("data-highlight-id",u.divID),void 0!==u.name&&c.setAttribute("data-name",u.name),this._highlightRegions.push({element:c,region:u})}this.refresh();var h=document.createDocumentFragment();this._highlightRegions.forEach(function(e){h.appendChild(e.element)}),e.innerElement.appendChild(h),this._getCurrentHighlight&&l(this._divaInstance,this._getCurrentHighlight()),o.Events.publish("HighlightCompleted",[this.page,this._divaInstance.getFilenames()[this.page]])},s.prototype.unmount=function(){var e=this._divaInstance.getSettings().innerElement;this._highlightRegions.forEach(function(t){e.removeChild(t.element)}),this._highlightRegions=[]},s.prototype.refresh=function(){var e=this._divaInstance.getMaxZoomLevel(),t=this._divaInstance.getPageDimensionsAtZoomLevel(this.page,e).width,n=this._divaInstance.getPageDimensions(this.page).width,o=Math.log(t/n)/Math.log(2),r=this._divaInstance.getPageOffset(this.page,{excludePadding:!0,incorporateViewport:!0});this._highlightRegions.forEach(function(e){var t=e.region;i.setAttributes(e.element,{style:{width:a(t.width,o)+"px",height:a(t.height,o)+"px",top:r.top+a(t.uly,o)+"px",left:r.left+a(t.ulx,o)+"px"}})})}},function(e,t,n){var i,o,r=n(3),s=n(7),a=n(44).HighlightManager;i=r,e.exports=(o={},{init:function(e,t){var n=new a(t);e.parentObject.data("highlightManager",n),o.highlightedPages=[],t.resetHighlights=function(){n.clear()},t.removeHighlightsOnPage=function(e){n.removeHighlightsOnPage(e)},t.hideHighlights=function(){o.highlightsVisible=!1,i(e.innerElement).addClass("annotations-hidden")},t.showHighlights=function(){o.highlightsVisible=!0,i(e.innerElement).removeClass("annotations-hidden")},t.highlightOnPages=function(e,n,i,o){for(var r=e.length;r--;)t.highlightOnPage(e[r],n[r],i,o)},t.highlightOnPage=function(e,t,i,o){return void 0===i&&(i="rgba(255, 0, 0, 0.2)"),n.addHighlight({page:e,regions:t,colour:i,divClass:o=void 0===o?"highlight diva-highlight":"highlight diva-highlight "+o}),!0},t.gotoHighlight=function(e){var t=n.getHighlightByRegionId(e);return t?r(t.highlight.page,t.region):(console.warn("Diva just tried to find a highlight that doesn't exist."),!1)};var r=function(n,i){var o=parseFloat(i.uly)+parseFloat(i.height)/2,r=parseFloat(i.ulx)+parseFloat(i.width)/2,s=t.translateFromMaxZoomLevel(o),a=t.translateFromMaxZoomLevel(r);n=parseInt(n,10),t.gotoPageByIndex(n);var l=t.getSettings().viewportObject,u=l.scrollTop()+s-l.height()/2+e.verticalPadding,c=l.scrollLeft()+a-l.width()/2+e.horizontalPadding;l.scrollTop(u),l.scrollLeft(c)},l=function(e){return function(n,i,r){for(var s=n,a=n.length,l=[],u=0;u<a;u++){var c=s[u],h=c.resource.chars,d=c.on,f=d.slice(d.indexOf("#xywh=")+6).split(","),p={ulx:parseInt(f[0],10),uly:parseInt(f[1],10),width:parseInt(f[2],10),height:parseInt(f[3],10),name:h};l.push(p)}t.highlightOnPage(e,l),o.highlightedPages.push(e)}};s.Events.subscribe("ManifestDidLoad",function(e){o.manifest=e},e.ID),s.Events.subscribe("PageWillLoad",function(e){if(o.highlightsVisible){for(var t=0;t<o.highlightedPages.length;t++)if(o.highlightedPages[t]===e)return;!function(e){var t=o.manifest.sequences[0].canvases;if(t[e].hasOwnProperty("otherContent"))for(var n=t[e].otherContent,r=0;r<n.length;r++)"sc:AnnotationList"===n[r]["@type"]&&i.ajax({url:n[r]["@id"],cache:!0,dataType:"json",success:l(e)})}(e)}},e.ID);var u=[];return e.innerObject.on("mouseenter","."+e.ID+"highlight",function(e){var t=e.target,n=t.dataset.name,i=document.createElement("div");i.style.top=t.offsetTop+t.offsetHeight-1+"px",i.style.left=t.style.left,i.style.background="#fff",i.style.border="1px solid #555",i.style.position="absolute",i.style.zIndex=101,i.className="annotation-overlay",i.textContent=n,t.parentNode.appendChild(i),u.push(i)}),e.innerObject.on("mouseleave","."+e.ID+"highlight",function(e){for(;u.length;){var t=u.pop();t.parentNode.removeChild(t)}}),s.Events.subscribe("ViewerDidLoad",function(){i("#"+e.ID+"page-nav").before('<div id="'+e.ID+'annotations-icon" class="diva-button diva-annotations-icon" title="Turn annotations on or off"></div>'),i(e.selector+"annotations-icon").addClass("annotations-icon-active"),i("#"+e.ID+"annotations-icon").on("click",function(n){o.highlightsVisible?(t.hideHighlights(),i(e.selector+"annotations-icon").removeClass("annotations-icon-active")):(t.showHighlights(),i(e.selector+"annotations-icon").addClass("annotations-icon-active"))})},e.ID),o.highlightsVisible=!0,!0},destroy:function(e,t){e.parentObject.removeData("highlights")},pluginName:"IIIFHighlight",titleText:"Highlight regions of pages"})},function(e,t,n){var i,o=n(3),r=n(7);i=o,e.exports={init:function(e,t){return r.Events.subscribe("ManifestDidLoad",function(t){var n=function(e,t){var n=(e.charAt(0).toUpperCase()+e.slice(1)).replace("_"," ");return t.match(/^https?:\/\//)&&(t='<a href="'+t+'" target="_blank">'+t+"</a>"),'<div class="metadata-row"><span class="metadata-label">'+n+':</span> <span class="metadata-value">'+t+"</span></div>"},o=function(e,t){for(var n=0;n<e.length;n++)if(e[n]["@language"]===t)return e[n]["@value"];return e[0]["@value"]||e["@value"]},r=function(e){for(var i="",r=0;r<e.length;r++){var s=e[r];if(t.hasOwnProperty(s))if(t[s].constructor===Array){var a=o(t[s],"en");i+=n(s,a)}else i+=n(s,t[s])}return i},s='<div id="'+e.ID+'metadata" class="diva-modal">';if(s+=r(["label"]),t.hasOwnProperty("metadata"))for(var a=t.metadata,l=0;l<a.length;l++)if(a[l].value.constructor===Array){var u=o(a[l].value,"en");s+=n(a[l].label,u)}else s+=n(a[l].label,a[l].value);s+=r(["description","within","see_also","license","attribution"]),e.parentObject.prepend(s+="</div>"),i(e.selector+"metadata").hide()},e.ID),e.parentObject.prepend('<div style="text-align: center; clear: both"><a href="#" id="'+e.ID+'metadata-link" class="diva-metadata-link">Details</a></div>'),i(e.selector+"metadata-link").on("click",function(t){i(e.selector+"metadata").fadeToggle("fast")}),!0},destroy:function(e,t){},pluginName:"IIIFMetadata",titleText:"Show metadata from a IIIF manifest"}}])}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(e.jQuery?e.jQuery:e.Zepto)}(this,function(e,t){e.fn.jPlayer=function(n){var i="string"==typeof n,o=Array.prototype.slice.call(arguments,1),r=this;return n=!i&&o.length?e.extend.apply(null,[!0,n].concat(o)):n,i&&"_"===n.charAt(0)?r:(this.each(i?function(){var i=e(this).data("jPlayer"),s=i&&e.isFunction(i[n])?i[n].apply(i,o):i;if(s!==i&&s!==t)return r=s,!1}:function(){var t=e(this).data("jPlayer");t?t.option(n||{}):e(this).data("jPlayer",new e.jPlayer(n,this))}),r)},e.jPlayer=function(t,n){if(arguments.length){this.element=e(n),this.options=e.extend(!0,{},this.options,t);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof e.fn.stop&&(e.fn.stop=function(){}),e.jPlayer.emulateMethods="load play pause",e.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",e.jPlayer.emulateOptions="muted volume",e.jPlayer.reservedEvent="ready flashreset resize repeat error warning",e.jPlayer.event={},e.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){e.jPlayer.event[this]="jPlayer_"+this}),e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],e.jPlayer.pause=function(){e.jPlayer.prototype.destroyRemoved(),e.each(e.jPlayer.prototype.instances,function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")})},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var n=function(){this.init()};n.prototype={init:function(){this.options={timeFormat:e.jPlayer.timeFormat}},time:function(e){e=e&&"number"==typeof e?e:0;var t=new Date(1e3*e),n=t.getUTCHours(),i=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*n,o=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*i,r="";return r+=this.options.timeFormat.showHour?(this.options.timeFormat.padHour&&n<10?"0"+n:n)+this.options.timeFormat.sepHour:"",(r+=this.options.timeFormat.showMin?(this.options.timeFormat.padMin&&i<10?"0"+i:i)+this.options.timeFormat.sepMin:"")+(this.options.timeFormat.showSec?(this.options.timeFormat.padSec&&o<10?"0"+o:o)+this.options.timeFormat.sepSec:"")}};var i=new n;e.jPlayer.convertTime=function(e){return i.time(e)},e.jPlayer.uaBrowser=function(e){var t=e.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},e.jPlayer.uaPlatform=function(e){var t=e.toLowerCase(),n=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(t)||[],i=/(ipad|playbook)/.exec(t)||!/(mobile)/.exec(t)&&/(android)/.exec(t)||[];return n[1]&&(n[1]=n[1].replace(/\s/g,"_")),{platform:n[1]||"",tablet:i[1]||""}},e.jPlayer.browser={},e.jPlayer.platform={};var o=e.jPlayer.uaBrowser(navigator.userAgent);o.browser&&(e.jPlayer.browser[o.browser]=!0,e.jPlayer.browser.version=o.version);var r=e.jPlayer.uaPlatform(navigator.userAgent);r.platform&&(e.jPlayer.platform[r.platform]=!0,e.jPlayer.platform.mobile=!r.tablet,e.jPlayer.platform.tablet=!!r.tablet),e.jPlayer.getDocMode=function(){var t;return e.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},e.jPlayer.browser.documentMode=e.jPlayer.getDocMode(),e.jPlayer.nativeFeatures={init:function(){var e,t,n,i=document,o=i.createElement("video"),r={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},s=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=e={support:{w3c:!!i[r.w3c[0]],moz:!!i[r.moz[0]],webkit:"function"==typeof i[r.webkit[3]],webkitVideo:"function"==typeof o[r.webkitVideo[2]],ms:"function"==typeof o[r.ms[2]]},used:{}},t=0,n=s.length;t<n;t++){var a=s[t];if(e.support[a]){e.spec=a,e.used[a]=!0;break}}if(e.spec){var l=r[e.spec];e.api={fullscreenEnabled:!0,fullscreenElement:function(e){return(e=e||i)[l[1]]},requestFullscreen:function(e){return e[l[2]]()},exitFullscreen:function(e){return(e=e||i)[l[3]]()}},e.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else e.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},e.event={}}},e.jPlayer.nativeFeatures.init(),e.jPlayer.focus=null,e.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var s=function(t){var n,i=e.jPlayer.focus;i&&(e.each(e.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(e,i){if(t.target.nodeName.toUpperCase()===i.toUpperCase())return n=!0,!1}),n||e.each(i.options.keyBindings,function(n,o){if(o&&e.isFunction(o.fn)&&("number"==typeof o.key&&t.which===o.key||"string"==typeof o.key&&t.key===o.key))return t.preventDefault(),o.fn(i),!1}))};e.jPlayer.keys=function(t){e(document.documentElement).unbind("keydown.jPlayer"),t&&e(document.documentElement).bind("keydown.jPlayer",s)},e.jPlayer.keys(!0),e.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?e(this).unbind(".jPlayerRepeat").bind(e.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){e(this).jPlayer("play")}):e(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(e){e.status.paused?e.play():e.pause()}},fullScreen:{key:70,fn:function(e){(e.status.video||e.options.audioFullScreen)&&e._setOption("fullScreen",!e.options.fullScreen)}},muted:{key:77,fn:function(e){e._muted(!e.options.muted)}},volumeUp:{key:190,fn:function(e){e.volume(e.options.volume+.1)}},volumeDown:{key:188,fn:function(e){e.volume(e.options.volume-.1)}},loop:{key:76,fn:function(e){e._loop(!e.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var n=this;if(this.element.empty(),this.status=e.extend({},this.status),this.internal=e.extend({},this.internal),this.options.timeFormat=e.extend({},e.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=e.jPlayer.platform.ipad||e.jPlayer.platform.iphone||e.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!e.jPlayer.focus&&(e.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},e.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),e.each(this.options.supplied.toLowerCase().split(","),function(t,i){var o=i.replace(/^\s+|\s+$/g,"");if(n.format[o]){var r=!1;e.each(n.formats,function(e,t){if(o===t)return r=!0,!1}),r||n.formats.push(o)}}),e.each(this.options.solution.toLowerCase().split(","),function(t,i){var o=i.replace(/^\s+|\s+$/g,"");if(n.solution[o]){var r=!1;e.each(n.solutions,function(e,t){if(o===t)return r=!0,!1}),r||n.solutions.push(o)}}),e.each(this.options.auroraFormats.toLowerCase().split(","),function(t,i){var o=i.replace(/^\s+|\s+$/g,"");if(n.format[o]){var r=!1;e.each(n.aurora.formats,function(e,t){if(o===t)return r=!0,!1}),r||n.aurora.formats.push(o)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,function(e,i){n.options[e]!==t&&(n.element.bind(i+".jPlayer",n.options[e]),n.options[e]=t)}),this.require.audio=!1,this.require.video=!1,e.each(this.formats,function(e,t){n.require[n.format[t].media]=!0}),this.options=e.extend(!0,{},this.require.video?this.optionsVideo:this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),e.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){n.status.video&&!n.status.waitForPlay||n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},e.each(this.formats,function(t,i){n.html.canPlay[i]=n.html[n.format[i].media].available&&""!==n.htmlElement[n.format[i].media].canPlayType(n.format[i].codec),n.aurora.canPlay[i]=e.inArray(i,n.aurora.formats)>-1,n.flash.canPlay[i]=n.format[i].flashCanPlay&&n.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,e.each(this.solutions,function(t,i){if(0===t)n[i].desired=!0;else{var o=!1,r=!1;e.each(n.formats,function(e,t){n[n.solutions[0]].canPlay[t]&&("video"===n.format[t].media?r=!0:o=!0)}),n[i].desired=n.require.audio&&!o||n.require.video&&!r}}),this.html.support={},this.aurora.support={},this.flash.support={},e.each(this.formats,function(e,t){n.html.support[t]=n.html.canPlay[t]&&n.html.desired,n.aurora.support[t]=n.aurora.canPlay[t]&&n.aurora.desired,n.flash.support[t]=n.flash.canPlay[t]&&n.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,e.each(this.solutions,function(t,i){e.each(n.formats,function(e,t){if(n[i].support[t])return n[i].used=!0,!1})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,o="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(e.jPlayer.browser.msie&&(Number(e.jPlayer.browser.version)<9||e.jPlayer.browser.documentMode<9)){var r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+o+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>');for(var s=0;s<r.length;s++)i.appendChild(document.createElement(r[s]))}else{var a=function(e,t,n){var i=document.createElement("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)};(i=document.createElement("object")).setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),a(i,"flashvars",o),a(i,"allowscriptaccess","always"),a(i,"bgcolor",this.options.backgroundColor),a(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=e(i)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(e.jPlayer.event.repeat),n._trigger(e.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),e.each(this.css.jq,function(e,t){t.length&&t.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===e.jPlayer.focus&&(e.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var t=this;e.each(this.instances,function(e,n){t.element!==n&&(n.data("jPlayer")||(n.jPlayer("destroy"),delete t.instances[e]))})},enable:function(){},disable:function(){},_testCanPlayType:function(e){try{return e.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(e){var t;e="string"==typeof e?e:"audio",t=document.createElement(e);try{return"playbackRate"in t&&(t.playbackRate=.5,.5===t.playbackRate)}catch(e){return!1}},_uaBlocklist:function(t){var n=navigator.userAgent.toLowerCase(),i=!1;return e.each(t,function(e,t){if(t&&t.test(n))return i=!0,!1}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(t,n){var i=this;t.preload=this.options.preload,t.muted=this.options.muted,t.volume=this.options.volume,this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate),t.addEventListener("progress",function(){n.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.progress))},!1),t.addEventListener("loadeddata",function(){n.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(e.jPlayer.event.loadeddata))},!1),t.addEventListener("timeupdate",function(){n.gate&&(i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.timeupdate))},!1),t.addEventListener("durationchange",function(){n.gate&&(i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.durationchange))},!1),t.addEventListener("play",function(){n.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(e.jPlayer.event.play))},!1),t.addEventListener("playing",function(){n.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(e.jPlayer.event.playing))},!1),t.addEventListener("pause",function(){n.gate&&(i._updateButtons(!1),i._trigger(e.jPlayer.event.pause))},!1),t.addEventListener("waiting",function(){n.gate&&(i._seeking(),i._trigger(e.jPlayer.event.waiting))},!1),t.addEventListener("seeking",function(){n.gate&&(i._seeking(),i._trigger(e.jPlayer.event.seeking))},!1),t.addEventListener("seeked",function(){n.gate&&(i._seeked(),i._trigger(e.jPlayer.event.seeked))},!1),t.addEventListener("volumechange",function(){n.gate&&(i.options.volume=t.volume,i.options.muted=t.muted,i._updateMute(),i._updateVolume(),i._trigger(e.jPlayer.event.volumechange))},!1),t.addEventListener("ratechange",function(){n.gate&&(i.options.defaultPlaybackRate=t.defaultPlaybackRate,i.options.playbackRate=t.playbackRate,i._updatePlaybackRate(),i._trigger(e.jPlayer.event.ratechange))},!1),t.addEventListener("suspend",function(){n.gate&&(i._seeked(),i._trigger(e.jPlayer.event.suspend))},!1),t.addEventListener("ended",function(){n.gate&&(e.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(t,!0),i._updateInterface(),i._trigger(e.jPlayer.event.ended))},!1),t.addEventListener("error",function(){n.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:e.jPlayer.error.URL,context:i.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))},!1),e.each(e.jPlayer.htmlEvent,function(o,r){t.addEventListener(this,function(){n.gate&&i._trigger(e.jPlayer.event[r])},!1)})},_addAuroraEventListeners:function(t,n){var i=this;t.volume=100*this.options.volume,t.on("progress",function(){n.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.progress),t.duration>0&&i._trigger(e.jPlayer.event.timeupdate))},!1),t.on("ready",function(){n.gate&&i._trigger(e.jPlayer.event.loadeddata)},!1),t.on("duration",function(){n.gate&&(i._getAuroraStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.durationchange))},!1),t.on("end",function(){n.gate&&(i._updateButtons(!1),i._getAuroraStatus(t,!0),i._updateInterface(),i._trigger(e.jPlayer.event.ended))},!1),t.on("error",function(){n.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:e.jPlayer.error.URL,context:i.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(e,t){var n=0,i=0,o=0,r=0;isFinite(e.duration)&&(this.status.duration=e.duration),n=e.currentTime,i=this.status.duration>0?100*n/this.status.duration:0,"object"==typeof e.seekable&&e.seekable.length>0?(o=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,r=this.status.duration>0?100*e.currentTime/e.seekable.end(e.seekable.length-1):0):(o=100,r=i),t&&(n=0,r=0,i=0),this.status.seekPercent=o,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=i,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=e.readyState,this.status.networkState=e.networkState,this.status.playbackRate=e.playbackRate,this.status.ended=e.ended},_getAuroraStatus:function(e,t){var n=0,i=0,o=0,r=0;this.status.duration=e.duration/1e3,n=e.currentTime/1e3,i=this.status.duration>0?100*n/this.status.duration:0,e.buffered>0?(o=this.status.duration>0?e.buffered*this.status.duration/this.status.duration:100,r=this.status.duration>0?n/(e.buffered*this.status.duration):0):(o=100,r=i),t&&(n=0,r=0,i=0),this.status.seekPercent=o,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=i,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,n,i){var o=e.Event(t);o.jPlayer={},o.jPlayer.version=e.extend({},this.version),o.jPlayer.options=e.extend(!0,{},this.options),o.jPlayer.status=e.extend(!0,{},this.status),o.jPlayer.html=e.extend(!0,{},this.html),o.jPlayer.aurora=e.extend(!0,{},this.aurora),o.jPlayer.flash=e.extend(!0,{},this.flash),n&&(o.jPlayer.error=e.extend({},n)),i&&(o.jPlayer.warning=e.extend({},i)),this.element.trigger(o)},jPlayerFlashEvent:function(t,n){if(t===e.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,o=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(o?this.pause(i):this.play(i))}this._trigger(e.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=n.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(e.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case e.jPlayer.event.progress:case e.jPlayer.event.timeupdate:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.click:this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:e.jPlayer.error.URL,context:n.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case e.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration,this.status.remaining=e.duration-e.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(e){e===t?e=!this.status.paused:this.status.paused=!e,e?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));var e="",t=this.status.duration,n=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(n=(t=this.status.media.duration)-this.status.currentTime),e=this.options.remainingDuration?(n>0?"-":"")+this._convertTime(n):this._convertTime(t)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:n.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(e)+'">x</a>',t.firstChild.href},_absoluteMediaUrls:function(t){var n=this;return e.each(t,function(e,i){i&&n.format[e]&&"data:"!==i.substr(0,5)&&(t[e]=n._qualifyURL(i))}),t},addStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[e])},removeStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[e])},setMedia:function(t){var n=this,i=!1,o=this.status.media.poster!==t.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,t=this._absoluteMediaUrls(t),e.each(this.formats,function(o,r){var s="video"===n.format[r].media;if(e.each(n.solutions,function(o,a){if(n[a].support[r]&&n._validString(t[r])){var l="html"===a,u="aurora"===a;return s?(l?(n.html.video.gate=!0,n._html_setVideo(t),n.html.active=!0):(n.flash.gate=!0,n._flash_setVideo(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n.status.video=!0):(l?(n.html.audio.gate=!0,n._html_setAudio(t),n.html.active=!0,e.jPlayer.platform.android&&(n.androidFix.setMedia=!0)):u?(n.aurora.gate=!0,n._aurora_setAudio(t),n.aurora.active=!0):(n.flash.gate=!0,n._flash_setAudio(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.hide(),n.status.video=!1),i=!0,!1}}),i)return!1}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(o?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),"string"==typeof t.title&&(this.css.jq.title.length&&this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(e.jPlayer.event.setmedia)):this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(e.jPlayer.focus=this)},play:function(e){"object"==typeof e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(e):(e="number"==typeof e?e:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(e):this.aurora.active?this._aurora_play(e):this.flash.active&&this._flash_play(e)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(e){e="number"==typeof e?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.aurora.active?this._aurora_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},tellOthers:function(t,n){var i=this,o="function"==typeof n,r=Array.prototype.slice.call(arguments);"string"==typeof t&&(o&&r.splice(1,1),e.jPlayer.prototype.destroyRemoved(),e.each(this.instances,function(){i.element!==this&&(o&&!n.call(this.data("jPlayer"),i)||this.jPlayer.apply(this,r))}))},pauseOthers:function(e){this.tellOthers("pause",function(){return this.status.srcSet},e)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.aurora.active?this._aurora_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},_muted:function(e){this.mutedWorker(e),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},e)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.aurora.used&&this._aurora_mute(t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(e.jPlayer.event.volumechange))},mute:function(e){this._muted(!("object"==typeof e&&this.options.useStateClassSkin&&this.options.muted)&&(e=e===t||!!e))},unmute:function(e){this._muted(!(e=e===t||!!e))},_updateMute:function(e){e===t&&(e=this.options.muted),e?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){this.volumeWorker(e),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},e)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.aurora.used&&this._aurora_volume(t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var n=e(t.currentTarget),i=n.offset(),o=t.pageX-i.left,r=n.width(),s=n.height()-t.pageY+i.top,a=n.height();this.volume(this.options.verticalVolume?s/a:o/r)}this.options.muted&&this._muted(!1)},_updateVolume:function(e){e===t&&(e=this.options.volume),e=this.options.muted?0:e,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*e+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var n=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?e(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),e.each(this.options.cssSelector,function(e,t){n._cssSelector(e,t)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(t,n){var i=this;"string"==typeof n?e.jPlayer.prototype.options.cssSelector[t]?(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=n,this.css.cs[t]=this.options.cssSelectorAncestor+" "+n,this.css.jq[t]=n?e(this.css.cs[t]):[],this.css.jq[t].length&&this[t]&&this.css.jq[t].bind("click.jPlayer",function(n){n.preventDefault(),i[t](n),i.options.autoBlur?e(this).blur():e(this).focus()}),n&&1!==this.css.jq[t].length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:n,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(e){this.options.toggleDuration&&(this.options.captureDuration&&e.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var n=e(t.currentTarget),i=n.offset(),o=t.pageX-i.left,r=n.width();this.playHead(100*o/r)}},playbackRate:function(e){this._setOption("playbackRate",e)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var n=e(t.currentTarget),i=n.offset(),o=t.pageX-i.left,r=n.width(),s=n.height()-t.pageY+i.top,a=n.height();this.playbackRate((this.options.verticalPlaybackRate?s/a:o/r)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},_updatePlaybackRate:function(){var e=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(e){this._loop(!("object"==typeof e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(e.jPlayer.event.repeat))},option:function(n,i){var o=n;if(0===arguments.length)return e.extend(!0,{},this.options);if("string"==typeof n){var r=n.split(".");if(i===t){for(var s=e.extend(!0,{},this.options),a=0;a<r.length;a++){if(s[r[a]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:n,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;s=s[r[a]]}return s}for(var l=o={},u=0;u<r.length;u++)u<r.length-1?(l[r[u]]={},l=l[r[u]]):l[r[u]]=i}return this._setOptions(o),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(t,n){var i=this;switch(t){case"volume":this.volume(n);break;case"muted":this._muted(n);break;case"globalVolume":this.options[t]=n;break;case"cssSelectorAncestor":this._cssSelectorAncestor(n);break;case"cssSelector":e.each(n,function(e,t){i._cssSelector(e,t)});break;case"playbackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",n),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",n),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=n=this._limitValue(n,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==n){var o=e.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!o||o&&!this.status.waitForPlay)&&(o||(this.options[t]=n),n?this._requestFullscreen():this._exitFullscreen(),o||this._setOption("fullWindow",n))}break;case"fullWindow":this.options[t]!==n&&(this._removeUiClass(),this.options[t]=n,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===n.cssClass||this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==n.cssClass&&this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"autohide":this.options[t]=e.extend({},this.options[t],n),this._updateAutohide();break;case"loop":this._loop(n);break;case"remainingDuration":this.options[t]=n,this._updateInterface();break;case"toggleDuration":this.options[t]=n;break;case"nativeVideoControls":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=e.extend({},this.options[t],n),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==n&&(this.options[t]=n,n?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=e.extend({},this.options[t],n);break;case"keyEnabled":this.options[t]=n,n||this!==e.jPlayer.focus||(e.jPlayer.focus=null);break;case"keyBindings":this.options[t]=e.extend(!0,{},this.options[t],n);break;case"audioFullScreen":case"autoBlur":this.options[t]=n}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(e.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var e=this,t="mousemove.jPlayer.jPlayerAutohide",n=function(t){var n,i=!1;"undefined"!=typeof e.internal.mouse?(n=e.internal.mouse.y-t.pageY,i=Math.floor(e.internal.mouse.x-t.pageX)>0||Math.floor(n)>0):i=!0,e.internal.mouse={x:t.pageX,y:t.pageY},i&&e.css.jq.gui.fadeIn(e.options.autohide.fadeIn,function(){clearTimeout(e.internal.autohideId),e.internal.autohideId=setTimeout(function(){e.css.jq.gui.fadeOut(e.options.autohide.fadeOut)},e.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(t,n),this.css.jq.gui.bind(t,n),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(e){this._setOption("fullScreen",!("object"==typeof e&&this.options.useStateClassSkin&&this.options.fullScreen))},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,n=e.jPlayer.nativeFeatures.fullscreen;n.api.fullscreenEnabled&&n.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(n.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){this.internal.fullscreenchangeHandler&&document.removeEventListener(e.jPlayer.nativeFeatures.fullscreen.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!e.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.requestFullscreen(t)},_exitFullscreen:function(){var t,n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.exitFullscreen(t)},_html_initMedia:function(t){var n=e(this.htmlElement.media).empty();e.each(t.track||[],function(e,t){var i=document.createElement("track");i.setAttribute("kind",t.kind?t.kind:""),i.setAttribute("src",t.src?t.src:""),i.setAttribute("srclang",t.srclang?t.srclang:""),i.setAttribute("label",t.label?t.label:""),t.def&&i.setAttribute("default",t.def),n.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setFormat:function(t){var n=this;e.each(this.formats,function(e,i){if(n.html.support[i]&&t[i])return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1})},_html_setAudio:function(e){this._html_setFormat(e),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(e)},_html_setVideo:function(e){this._html_setFormat(e),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(e)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))n.play();else{this.internal.cmdsIgnored&&n.play();try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e,n.play()}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.play(e)},250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.play=!1,e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),n.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.pause(e)},250))}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this,n=this.htmlElement.media;this._html_load();try{if("object"==typeof n.seekable&&n.seekable.length>0)n.currentTime=e*n.seekable.end(n.seekable.length-1)/100;else{if(!(n.duration>0)||isNaN(n.duration))throw"e";n.currentTime=e*n.duration/100}}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.playHead(e)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(e,t){this.html.audio.available&&(this.htmlElement.audio[e]=t),this.html.video.available&&(this.htmlElement.video[e]=t)},_aurora_setAudio:function(t){var n=this;e.each(this.formats,function(e,i){if(n.aurora.support[i]&&t[i])return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(t){this.status.waitForLoad||isNaN(t)||this.aurora.player.seek(t),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(e.jPlayer.event.play)},_aurora_pause:function(t){isNaN(t)||this.aurora.player.seek(1e3*t),this.aurora.player.pause(),t>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(e.jPlayer.event.pause)},_aurora_playHead:function(e){this.aurora.player.duration>0&&this.aurora.player.seek(e*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(e){this.aurora.player.volume=100*e},_aurora_mute:function(e){e?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=e},_flash_setAudio:function(t){var n=this;try{e.each(this.formats,function(e,i){if(n.flash.support[i]&&t[i]){switch(i){case"m4a":case"fla":n._getMovie().fl_setAudio_m4a(t[i]);break;case"mp3":n._getMovie().fl_setAudio_mp3(t[i]);break;case"rtmpa":n._getMovie().fl_setAudio_rtmp(t[i])}return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_setVideo:function(t){var n=this;try{e.each(this.formats,function(e,i){if(n.flash.support[i]&&t[i]){switch(i){case"m4v":case"flv":n._getMovie().fl_setVideo_m4v(t[i]);break;case"rtmpv":n._getMovie().fl_setVideo_rtmp(t[i])}return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(e){this._flashError(e)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(e){this._flashError(e)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var e,t=0;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var n=e.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),t=parseInt(n[0],10)+"."+parseInt(n[1],10))}}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*t},_checkForFlash:function(e){var t=!1;return this._getFlashPluginVersion()>=e&&(t=!0),t},_validString:function(e){return e&&"string"==typeof e},_limitValue:function(e,t,n){return e<t?t:e>n?n:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var n;this._error({type:e.jPlayer.error[n=this.internal.ready?"FLASH_DISABLED":"FLASH"],context:this.internal.flash.swf,message:e.jPlayer.errorMsg[n]+t.message,hint:e.jPlayer.errorHint[n]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(n){this._trigger(e.jPlayer.event.warning,t,n),this.options.warningAlerts&&this._alert("Warning!"+(n.message?"\n"+n.message:"")+(n.hint?"\n"+n.hint:"")+"\nContext: "+n.context)},_alert:function(e){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;e.each(e.jPlayer.emulateMethods.split(/\s+/g),function(e,n){t.internal.domNode[n]=function(e){t[n](e)}}),e.each(e.jPlayer.event,function(n,i){var o=!0;e.each(e.jPlayer.reservedEvent.split(/\s+/g),function(e,t){if(t===n)return o=!1,!1}),o&&t.element.bind(i+".jPlayer.jPlayerHtml",function(){t._emulateHtmlUpdate();var e=document.createEvent("Event");e.initEvent(n,!1,!0),t.internal.domNode.dispatchEvent(e)})})},_emulateHtmlUpdate:function(){var t=this;e.each(e.jPlayer.emulateStatus.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.status[n]}),e.each(e.jPlayer.emulateOptions.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.options[n]})},_destroyHtmlBridge:function(){var t=this;this.element.unbind(".jPlayerHtml"),e.each((e.jPlayer.emulateMethods+" "+e.jPlayer.emulateStatus+" "+e.jPlayer.emulateOptions).split(/\s+/g),function(e,n){delete t.internal.domNode[n]})}},e.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});